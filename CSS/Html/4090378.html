<header><h1>ASMS – EA Subscription Creation API​</h1></header><form action="/" id="form1" method="post">
<p paraeid="{2e3a4980-65f0-4e6c-8dae-b853df1dcf6b}{143}" paraid="1475424209">Submit a <a href="http://sharepoint/sites/fastrack/Lists/ModTrack/NewForm.aspx?RootFolder=" rel="noreferrer" target="_blank">ModTrack</a> request to update this TSG. &nbsp;</p>

<h3 aria-level="3" paraeid="{2e3a4980-65f0-4e6c-8dae-b853df1dcf6b}{151}" paraid="885932212" role="heading"><strong>Known Issues &nbsp;</strong></h3>

<table class="table">
	<tbody>
		<tr>
			<td><strong>Date</strong></td>
			<td><strong>Issue</strong></td>
			<td><strong>Approved Workaround</strong></td>
			<td><strong>Date Resolved</strong></td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
		</tr>
	</tbody>
</table>
</form>

<h3><strong>Overview&nbsp;</strong></h3>

<p>The Subscription Creation Application Programming Interface (API) allows Enterprise Agreement (EA) Account Administrators (AA) to programmatically create <a href="https://account.azure.com/Signup?offer=MS-AZR-0017P" rel="noreferrer" target="_blank">17P (EA Offer)</a> and <a href="https://internal.support.services.microsoft.com/en-us/help/4014459?iecBust=1518633371474&amp;nochrome" rel="noreferrer" target="_blank">148P (Enterprise Dev/Test)</a> subscriptions and specify a Subscription Display Name, using the Representational State Transfer (REST) API or PowerShell. The API is exposed as a standard <a href="https://docs.microsoft.com/en-us/rest/api/" rel="noreferrer" target="_blank">Azure Resource Manager (ARM) API</a> and uses the same authentication model.&nbsp;</p>

<form action="/" id="form1" method="post">
<h3 aria-level="3" paraeid="{0c33df33-07a8-4f6f-953e-851a41993332}{105}" paraid="1209847253" role="heading"><strong>Policy &nbsp;</strong></h3>

<p><span>EA customers are limited to creating 2000 subscriptions per account with this API. While this amount is currently unable to be increased, you can leverage the public facing guidance </span><a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/programmatically-create-subscription?tabs=rest#limitations-of-azure-enterprise-subscription-creation-api" managed-link="" target="_blank"><span>here</span></a><span><span> for the most up-to-date information on API&nbsp; creation limitations.</span></span></p>

<p><strong><span>Note:</span></strong><span> Accounts with more than 20 subscriptions created via the API are subject to performance issues. Also note, deleted subscriptions still count toward the total number of subscriptions on each account under enrollment.</span></p>
</form>

<h3><strong>Customer Experience and Provisioning&nbsp;&nbsp;</strong></h3>

<form action="/" id="form1" method="post">
<p paraeid="{0c33df33-07a8-4f6f-953e-851a41993332}{138}" paraid="1854332825">Customers interact with this API through the command line (REST API or PowerShell). There are a few pre-requisites prior to successfully creating subscriptions with the API:&nbsp;</p>

<ol role="list" start="1">
	<li aria-setsize="-1" data-aria-level="1" data-aria-posinset="1" data-font="" data-leveltext="%1." data-listid="8" role="listitem">
	<p paraeid="{0c33df33-07a8-4f6f-953e-851a41993332}{168}" paraid="490957387">The enrollment must have at least one subscription created through the creation link on the EA Portal (directs to <a href="https://account.azure.com/signup?offer=ms-azr-0017p" rel="noreferrer" target="_blank">https://account.azure.com/signup?offer=ms-azr-0017p</a>).&nbsp;</p>
	</li>
</ol>

<ol role="list" start="2">
	<li aria-setsize="-1" data-aria-level="1" data-aria-posinset="2" data-font="" data-leveltext="%1." data-listid="8" role="listitem">
	<p paraeid="{0c33df33-07a8-4f6f-953e-851a41993332}{181}" paraid="131162640">The AA must have an account that is part of an EA Enrollment.&nbsp;<span class="ms-rteFontSize-2">Access can be delegated by the AA to others to create via the API.</span></p>
	</li>
</ol>

<p paraeid="{0c33df33-07a8-4f6f-953e-851a41993332}{183}" paraid="1547045708">Detailed instructions are available on the <a href="https://docs.microsoft.com/en-us/rest/api/" rel="noreferrer" target="_blank">Azure Docs REST API documentation</a>.&nbsp;</p>

<p><span class="ms-rteFontSize-2">In addition to the API,&nbsp;a new portal experience will be available to EA customers through the <strong>Subscriptions</strong> blade and Cost Management+Billing blade. Some additional requirements are on the portal creation:</span></p>

<ol>
	<li><span class="ms-rteFontSize-2">Customer must be an AA. Delegation will only work via the API, not through the portal.</span></li>
	<li>On the <strong>Subscriptions </strong>blade, click on the <strong>Add </strong>button. On the <strong>Cost Management + Billing </strong>blade, click on the <strong>New Subscription </strong>button.</li>
	<li>On the <strong>Subscription </strong>blade that opens up, enter a friendly <strong>Subscription name</strong>, choose the <strong>Offer</strong>, and click on the <strong>Create </strong>button.</li>
</ol>

<h3 paraeid="{0c33df33-07a8-4f6f-953e-851a41993332}{183}" paraid="1547045708"><strong>Support Scenarios </strong>&nbsp;</h3>

<p>The ability to create subscriptions programmatically&nbsp;is currently in Preview mode. Please review <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/programmatically-create-subscription?tabs=rest" managed-link="">this&nbsp;documentation</a> to understand the prerequisites, steps, and limitations for Subscription Creation API. Then, assist the customer accordingly.&nbsp;</p>

<h4 aria-level="4" paraeid="{35c7dd34-81e8-4ca7-9e6b-2f0d12717243}{11}" paraid="513446463" role="heading">Questions About EA or Enrollment&nbsp;&nbsp;</h4>

<ul role="list">
	<li aria-setsize="-1" data-aria-level="1" data-aria-posinset="1" data-font="Symbol" data-leveltext="" data-listid="12" role="listitem">
	<p paraeid="{35c7dd34-81e8-4ca7-9e6b-2f0d12717243}{31}" paraid="1804559859">For questions or issues that end up not being specific to the API, follow the existing process in the <span>&nbsp;</span><a href="https://internal.support.services.microsoft.com/en-us/help/2872061" managed-link="">EA Scenarios TSG</a>.&nbsp;</p>
	</li>
</ul>

<h4 aria-level="4" paraeid="{35c7dd34-81e8-4ca7-9e6b-2f0d12717243}{37}" paraid="2001146818" role="heading">Errors in the API&nbsp;</h4>

<ul role="list">
	<li aria-setsize="-1" data-aria-level="1" data-aria-posinset="1" data-font="Symbol" data-leveltext="" data-listid="11" role="listitem">
	<p paraeid="{35c7dd34-81e8-4ca7-9e6b-2f0d12717243}{61}" paraid="2093874348">For Subscription Creation issues, follow the <a href="https://internal.support.services.microsoft.com/en-us/help/3035847" managed-link="">subscription creation issue process TSG</a>.&nbsp;</p>
	</li>
	<li aria-setsize="-1" data-aria-level="1" data-aria-posinset="1" data-font="Symbol" data-leveltext="" data-listid="11" role="listitem">
	<p>If you encounter errors while&nbsp;using the API, engage the ACE team.&nbsp;<br>
	<strong>Note:</strong>&nbsp;ACE&nbsp;should only be contacted through the ASE escalation path. ASE will engage&nbsp;ACE&nbsp;and get back to you with an appropriate response. For additional guidance, see&nbsp;<a href="https://internal.support.services.microsoft.com/en-us/help/3093263" rel="noreferrer noopener" tabindex="-1" target="_blank" title="https://internal.support.services.microsoft.com/en-us/help/3093263">TSG 3093263</a>.</p>
	</li>
	<li aria-setsize="-1" data-aria-level="1" data-aria-posinset="2" data-font="Symbol" data-leveltext="" data-listid="11" role="listitem">
	<p paraeid="{35c7dd34-81e8-4ca7-9e6b-2f0d12717243}{71}" paraid="864568237">For issues where the API was successful, but the subscription was not provisioned, follow the same process as for <a href="https://internal.support.services.microsoft.com/en-us/help/3035847" rel="noreferrer" target="_blank">portal subscription creation failure</a>.&nbsp;</p>
	</li>
</ul>

<h4 aria-level="4" paraeid="{35c7dd34-81e8-4ca7-9e6b-2f0d12717243}{115}" paraid="1320712208" role="heading">General Q&amp;A&nbsp;</h4>

<ul role="list">
	<li aria-setsize="-1" data-aria-level="1" data-aria-posinset="1" data-font="Symbol" data-leveltext="" data-listid="13" role="listitem">
	<p paraeid="{35c7dd34-81e8-4ca7-9e6b-2f0d12717243}{136}" paraid="367189472">Direct customers to the <a href="https://docs.microsoft.com/en-us/rest/api/" rel="noreferrer" target="_blank">public documentation.</a> If the customer cannot find a solution, escalate to the EA Support Team.</p>
	</li>
</ul>

<h3 aria-level="3" paraeid="{35c7dd34-81e8-4ca7-9e6b-2f0d12717243}{161}" paraid="708281704" role="heading">Engagement and Escalation Path &nbsp;</h3>

<p>For any escalations or technical issues with the customer experience, engage the ACE team&nbsp;via ASE. In urgent cases <strong>only</strong>, escalate to ACE directly using <a href="https://icm.ad.msft.net/imp/v3/incidents/cri?tmpl=n3F1F1" managed-link="">this&nbsp;ICM template</a>.</p>

<p><strong>Note</strong>: In cases where the customer needs to create more than 50 subscriptions, contact&nbsp;<a href="mailto:acesles@microsoft.com" rel="noreferrer noopener" tabindex="-1" target="_blank" title="mailto:acesles@microsoft.com">acesles@microsoft.com</a>&nbsp;and provide them with the customer&#39;s email address and TenantID.&nbsp;The limit can be raised up to a maximum of 200 subscriptions.</p>

<p paraeid="{35c7dd34-81e8-4ca7-9e6b-2f0d12717243}{173}" paraid="1711597581"><strong>Note:</strong>&nbsp;ACE&nbsp;should only be contacted through the ASE escalation path. ASE will engage&nbsp;ACE&nbsp;and get back to you with an appropriate response. Only in urgent issues, we can engage the ACE team directly.&nbsp;For more information, see&nbsp;<a data-bi-name="content-anchor-link" href="https://internal.support.services.microsoft.com/en-us/help/3093263" managed-link="" tabindex="0" target="_blank">TSG 3093263</a>.</p>

<h3 aria-level="3" paraeid="{35c7dd34-81e8-4ca7-9e6b-2f0d12717243}{185}" paraid="889048973" role="heading"><strong>TSG Change Log &nbsp;</strong></h3>

<table class="table">
	<tbody>
		<tr>
			<td><strong>Date</strong></td>
			<td><strong>Updated By</strong></td>
			<td><strong>Content Updated</strong></td>
		</tr>
		<tr>
			<td>04/26/18</td>
			<td>shsims</td>
			<td>TSG Created&nbsp;</td>
		</tr>
		<tr>
			<td>01/17/19</td>
			<td>v-ajbur</td>
			<td>Made &quot;50 Subscriptions&quot; bold</td>
		</tr>
		<tr>
			<td>06/28/2019</td>
			<td>v-ruclar</td>
			<td>Added &quot;Note&quot; to &quot;Policy&quot; section.</td>
		</tr>
		<tr>
			<td>07/30/2019</td>
			<td>v-brgosn</td>
			<td>Updated Quota Increase details.</td>
		</tr>
		<tr>
			<td>09/04/2019</td>
			<td>v-ruclar</td>
			<td>Added note to Quota Increase section. MT-2341</td>
		</tr>
		<tr>
			<td>10/01/2019</td>
			<td>v-ereric</td>
			<td>Updated subscription limit in Policy section.</td>
		</tr>
		<tr>
			<td>12/5/2019</td>
			<td>v-ereric</td>
			<td>Added ACE Engagement info.</td>
		</tr>
		<tr>
			<td>4/9/2020</td>
			<td>mievan</td>
			<td>updated <span><span>sub creation limit <span>from 200 to 500.</span></span></span></td>
		</tr>
		<tr>
			<td>06/12/2020</td>
			<td>v-ishan</td>
			<td>Updated subscription creation limit from 500 to 2000 as per ModTrack 2965. Removed IcM process as there is no longer a need to increase the limit.&nbsp;</td>
		</tr>
		<tr>
			<td>06/26/2020</td>
			<td>v-ishan</td>
			<td>Updated information regarding ACE engagement and added information about creating subscriptions programmatically as per ModTrack 2994.</td>
		</tr>
	</tbody>
</table>
</form>
