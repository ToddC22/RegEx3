<header><h1>A &quot;Connection_Dropped&quot; event message is logged in the Httperr.log file on a Windows Server 2003-based computer that is running IIS 6.0</h1></header><div class='kb-notice-section section'>BUG #: <a href='http://bugcheck/bugs/ContentMaintenance/71536.asp' title='Link only available for Microsoft corporate network users' target='_blank'>71536 (Content Maintenance)</a></div><div class='kb-summary-section section'>On a Microsoft Windows Server 2003-based computer that is running Internet Information Services (IIS) 6.0, an event message that resembles the following is logged in the Httperr.log file:This article describes the conditions that cause the &quot;Connection_Dropped&quot; event message.</div><div class='kb-moreinformation-section section'>The &quot;Connection_Dropped&quot; event message occurs if the following conditions are true:<ul class='sbody-free_list'><li>An HTTP client has sent an HTTP request to IIS.</li><li>IIS has received the request and has begun to process the response.</li><li>The connection between the client and the server is closed before a complete response is sent. <br><br><span class='text-base'>Note</span> A complete response includes logging data.</li></ul>In these conditions, the Http.sys driver cannot resolve the connection. However, the Http.sys driver may not immediately destroy the original connection object. Connections in this state are also known as &quot;zombie connections.&quot; <br><br>The Http.sys driver adds the &quot;zombie connection&quot; to a list. Because the original connection object is still available, the original connection object information can be included in the logging information when the request is completed. If the response is completed before the time-out value that is used by the Http.sys driver is reached, no information is logged in the Httperr.log file. Instead, the status code is logged in the IIS log. For example,  an &quot;HTTP 200-OK&quot; status code is logged in the IIS log when the request succeeds.<br><br>However, if response processing takes longer than the time-out value that is used by the Http.sys driver, the Http.sys driver destroys the original connection object. Then, the Http.sys driver writes a &quot;Connection_Dropped&quot; event message to the Httperr.log file.<br><br>Typically, a &quot;Connection_Dropped&quot; event message is logged in the Httperr.log file when a client closes its connection to the Web server before the complete response message is sent. For example, a &quot;Connection_Dropped&quot; event message is logged in the Httperr.log file if a user views a Web page, and then the user closes the browser window before the complete response message is sent by IIS.<br><br>It is very unlikely that a default installation of IIS would close a connection to a client before the complete response message is sent. However, a custom ISAPI application that does not handle response messages correctly may cause a &quot;Connection_Dropped&quot; event message to be logged in the Httperr.log file.</div><div class='kb-references-section section'><span>For more information about error logging in HTTP APIs, click the following article number to view the article in the Microsoft Knowledge Base:<br><br><div class='indent'><a id='kb-link-1' href='/en-us/help/820729'>820729 </a> Error logging in HTTP API<br><br></div></span><br>For more information about common Http.sys error log file entries, visit the following Microsoft Web site:<div class='indent'><a id='kb-link-2' href='http://www.microsoft.com/technet/prodtechnol/windowsserver2003/library/iis/23b752a4-9daa-4695-b735-98941f6e65ec.mspx?mfr=true' target='_self'>http://www.microsoft.com/technet/prodtechnol/WindowsServer2003/Library/IIS/23b752a4-9daa-4695-b735-98941f6e65ec.mspx?mfr=true</a></div></div><div class='kb-securedata-section section'><span class='text-base'>Author: mlaing</span><br><span class='text-base'>Writer: v-jayc</span><br><span class='text-base'>Tech Reviewer:</span><br><span class='text-base'>Editor:v-crweb</span></div>