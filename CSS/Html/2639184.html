<header><h1>SharePoint 2010: DataForm Web Part displays &quot;Unable to display this Web Part&quot;</h1></header><div class='kb-symptoms-section section'>Consider the following scenario:<ul class='sbody-free_list'><li>Create a list or library in SharePoint 2010.</li><li>Open the list / library in SharePoint Designer.</li><li>Close and hide the XSLTListView Web part on the page.</li><li>Insert a DataForm web part on the page.</li></ul><br>If the list contains a large number of columns or custom XSL has been applied to the DataForm web part the following error message may be displayed:<br><br>&quot;Unable to display this Web Part. To troubleshoot the problem, open this Web page in a Microsoft SharePoint Foundation-compatible HTML editor such as Microsoft SharePoint Designer. If the problem persists, contact your Web server administrator.&quot;</div><div class='kb-cause-section section'>The time allowed for doing the XSL transformation was exceeded.<br>In SharePoint 2010 the XSL transform cannot take longer than 1 second.<br></div><div class='kb-resolution-section section'><br><span class='text-base'>Solution 1</span><ol class='sbody-num_list'><li>Simplify the custom XSL that was added to the DataForm web part.</li></ol><br><span class='text-base'>Solution 2</span><ol class='sbody-num_list'><li>Browse to the list or library.</li><li>In the ribbon select List, Customize Form</li></ol>Instead of using DataForm web parts to customize the list forms, use the BrowserFormWebPart that displays a custom InfoPath form.<br><br><span class='text-base'>Solution 3</span><span class='text-base'><br></span><br><ol class='sbody-num_list'><li>Sub class the DataForm Web Part. Override the following methods. Then Deploy the assembly.<br><br><span class='text-base'>Example:<br></span><br>public class customDFWP : DataFormWebPart<br>&#160;&#160;&#160; {<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160; public override bool IsGhosted<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160; {<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; get<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return true;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160; public override bool CanHaveServerControls<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160; {<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; get<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return true;<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }<br>&#160;&#160;&#160;&#160;&#160;&#160;&#160; }<br>&#160;&#160;&#160; }<br>&#160; </li><li>Add a safe control entry to the web.config<br><span class='text-base'><br>Example:</span> &lt;SafeControl Assembly=&quot;customDFWP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=963f869a440db619&quot; Namespace=&quot;customDFWP&quot; TypeName=&quot;*&quot; Safe=&quot;True&quot; AllowRemoteDesigner=&quot;True&quot; SafeAgainstScript=&quot;False&quot;/&gt;</li><li>Add the following to the &lt;tagMapping&gt; element of the web.config<br><br><span class='text-base'>Example:</span> &lt;add tagType=&quot;Microsoft.SharePoint.WebPartPages.DataFormWebPart, Microsoft.SharePoint, Version=14.0.0.0, Culture=neutral, PublicKeyToken=71e9bce111e9429c&quot; mappedTagType=&quot;customDFWP.customDFWP, customDFWP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=963f869a440db619&quot; /&gt;</li><li>Register the assembly on the form page.<br><br><span class='text-base'>Example: </span>&lt;%@ Register tagprefix=&quot;customDFWP&quot; namespace=&quot;customDFWP&quot; assembly=&quot;customDFWP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=963f869a440db619&quot; %&gt;</li><li>On the form page find &lt;WebPartPages:DataFormWebPart &gt; and replace it with the new custom tag.<br><br><span class='text-base'>Example</span>:&lt;customDFWP:customDFWP&gt;<br></li></ol></div><div class='kb-securedata-section section'>Steps to reproduce: <br>Product Bug Number: 31600<br>Author ID (email alias): ryanpil<br>Writer ID (email alias): ryanpil<br>Tech Review ID (email alias): ctrshrpt, spskbpre<br>Confirm Article has been Tech Reviewed: Yes<br>Confirm Article released for Publishing: Yes </div>