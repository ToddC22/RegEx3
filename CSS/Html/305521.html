<header><h1>&quot;16-bit MS-DOS Subsystem&quot; error message when you run an MS-DOS or 16-Bit Windows program in Windows Server 2003 or Windows 2000 Server</h1></header><div class='kb-notice-section section'><span><div class='kb-notice-section section'>For a Microsoft Windows XP version of this article, see <a id='kb-link-1' href='/en-us/help/324767'>324767 </a>.<br><br></div></span></div><div class='kb-symptoms-section section'> If you try to run an MS-DOS-based or a 16-bit Windows-based  command on a Microsoft Windows Server 2003-based or a Microsoft Windows 2000 Server-based computer, you may receive one of the following error messages: <div class='sbody-error'>16-bit MS-DOS Subsystem<br><strong class='sbody-strong'>path to the program you are trying to start or install</strong><br>C:\WINNT\system32\config.nt The system file is not suitable for running MS-DOS and Microsoft Windows applications. Choose &#39;Close&#39; to terminate the application.</div><div class='sbody-error'>16-bit MS-DOS Subsystem<br><strong class='sbody-strong'>path to the program you are trying to run</strong><br>config.nt The system file is not suitable for running MS-DOS and Microsoft Windows applications. Choose &#39;Close&#39; to terminate the application. </div><div class='sbody-error'>16-bit MS-DOS Subsystem <br><strong class='sbody-strong'>path to the program you are trying to run</strong><br>  C:\WINNT\system32\autoexec.nt The system file is not suitable for running MS-DOS and Microsoft Windows applications. Choose &#39;Close&#39; to terminate the application. </div>You may be prompted either to quit the program or to ignore the error message, but the program quits after either option.</div><div class='kb-cause-section section'> This issue can occur if any one of the following files are missing, damaged, or not located in the %systemroot%\System32 folder: <ul class='sbody-free_list'><li>Autoexec.nt</li><li>Command.com</li><li>Config.nt<br></li></ul></div><div class='kb-resolution-section section'> To resolve this issue, follow these steps:<ol class='sbody-num_list'><li>Insert the Windows Server 2003 CD or the Windows 2000 Server CD into the CD drive.</li><li>Click <strong class='uiterm'>Start</strong>, click <strong class='uiterm'>Run</strong>, type <span class='sbody-userinput'>cmd</span>, and then click <strong class='uiterm'>OK</strong>.</li><li>Type the following commands, and press ENTER after each command:<div class='indent'><span class='sbody-userinput'>expand D:\i386\config.nt_ %systemroot%\system32\config.nt<br><br>expand D:\i386\autoexec.nt_ %systemroot%\system32\autoexec.nt<br><br>expand D:\i386\command.co_ %systemroot%\system32\command.com<br><br>exit</span></div><span class='text-base'>Note</span>  The description of this procedure assumes that your CD drive letter is D. If your CD drive letter is not D, substitute the correct drive letter.</li><li>Start or install the program. If the issue is resolved, do not complete the remaining steps. If the issue is not resolved, go to the next step.</li><li>Start Notepad, and then type the following commands.<br><br><span class='text-base'>Note</span> The Command.com file is not edited or created in the following process. Because of this, you may have to expand the file from your CD-ROM. See step 16 for instructions on how to do this.<br><br><div class='sbody-code'><pre><code>dos=high, umb<br>device=%SYSTEMROOT%\system32\himem.sys<br>files=40</code></pre></div></li><li>On the <strong class='uiterm'>File</strong> menu, click <strong class='uiterm'>Save As</strong>.</li><li>In the <strong class='uiterm'>File Name</strong> box, type <span class='sbody-userinput'>Config.nt</span>, and then click <strong class='uiterm'>Save</strong>. Close the Config.nt file.</li><li>On the <strong class='uiterm'>File</strong> menu, click <strong class='uiterm'>New</strong>.</li><li>In the new blank document, type the following entries. <br><br><div class='sbody-code'><pre><code>@echo off<br>    lh %SYSTEMROOT%\system32\mscdexnt.exe<br>    lh %SYSTEMROOT%\system32\redir<br>    lh %SYSTEMROOT%\system32\dosx<br>    SET BLASTER=A220 I5 D1 P330 T3</code></pre></div></li><li>On the <strong class='uiterm'>File</strong> menu, click <strong class='uiterm'>Save As</strong>.</li><li>In the <strong class='uiterm'>File Name</strong> box, type <span class='sbody-userinput'>Autoexec.nt</span>, and then click <strong class='uiterm'>Save</strong>. Close the Autoexec.nt file.</li><li>Start Windows Explorer. Locate the <strong class='uiterm'>Config.nt</strong> file, right-click the Config.nt file, and then click <strong class='uiterm'>Copy</strong>.</li><li>Right-click the %systemroot%\System32 folder, and then click <strong class='uiterm'>Paste</strong>.</li><li>Locate the Autoexec.nt file, right-click the <strong class='uiterm'>Autoexec.nt</strong> file, and then click <strong class='uiterm'>Copy</strong>.</li><li>Right-click the %systemroot%\System32 folder, and then click <strong class='uiterm'>Paste</strong>.</li><li>Expand the Command.com file from the Windows Server 2003 or the Windows 2000 Server CD-ROM. To do this, follow these steps:<ol class='sbody-alpha_list'><li>Click <strong class='uiterm'>Start</strong>, click <strong class='uiterm'>Run</strong>, type <span class='sbody-userinput'>cmd</span>, and then click <strong class='uiterm'>OK</strong>.</li><li><pre class='sbody-pre'>expand  cd-rom :\i386\command.co_  drive_letter :\system_root\system32\command.com exit </pre></li></ol></li><li>Verify the existence of the folder to which the TEMP and TMP user environment variables are mapped. To do this, follow these steps:<ol class='sbody-alpha_list'><li>Click <strong class='uiterm'>Start</strong>, click <strong class='uiterm'>Run</strong>, type <span class='sbody-userinput'>sysdm.cpl</span> in the <strong class='uiterm'>Open</strong> box, and then click <strong class='uiterm'>OK</strong>.</li><li>In the <strong class='uiterm'>System Properties</strong> dialog box, click the <strong class='uiterm'>Advanced</strong> tab, and then click <strong class='uiterm'>Environment Variables</strong>. </li><li>In the <strong class='uiterm'>User variables for <strong class='sbody-strong'>UserName</strong></strong> section, locate the TEMP and TMP variables. They are listed in the <strong class='uiterm'>Variable</strong> column.</li><li>For the TEMP and TMP variables, note the corresponding folder that is listed in the <strong class='uiterm'>Value</strong> column. </li><li>Start Windows Explorer.  To do this, click <strong class='uiterm'>Start</strong>, click <strong class='uiterm'>Run</strong>, type <span class='sbody-userinput'>explorer</span> in the <strong class='uiterm'>Open</strong> box, and then click <strong class='uiterm'>OK</strong>.</li><li>  Locate the folder that is specified for the TEMP and TMP variables.  Make sure that this folder exists.<br><br><span class='text-base'>Note</span>  To locate the folder, you may have to turn on the feature that shows hidden files and folders.  To do this, follow these steps:<ol class='sbody-num_list'><li>On the <strong class='uiterm'>Tools</strong> menu, click <strong class='uiterm'>Folder Options</strong>, and then click the <strong class='uiterm'>View</strong> tab. </li><li>Under <strong class='uiterm'>Hidden files and folders</strong>, click <strong class='uiterm'>Show hidden files and folders</strong>, and then click <strong class='uiterm'>OK</strong>.</li></ol></li></ol></li><li>Restart your computer.</li></ol></div><div class='kb-textlegacy-section section'>DOC INFO: This article was created from Solution Object SOX000326700005 by v_2roha (originator of SO). Author: V_2ROHA (2001-08-09T11:09:00) Edit Reviewer: davidg (2002-02-06T07:43:00) Tech Reviewer: SCOTTSA (2002-02-06T07:09:00) <br>Rewrite Writer: 12-08-04 by v-shtown<br>Rewrite Tech Reviewer: <br>Rewrite Editor: v-crweb</div>