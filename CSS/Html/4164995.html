<header><h1>CSS RDS: Troubleshooting: Known issues - Session Connectivity</h1></header><span asset="4476087" contenteditable="false" unselectable="on" props="{&#34;size&#34;:&#34;full&#34;}">[Asset 4476087]</span><ul><li><strong>Content Idea (CI): </strong><a managed-link="" href="https://aka.ms/CIEdit?id=82415" target="" data-content-type="" data-content-id="" bookmark-id="">82415</a></li></ul><p><strong>Support Topic: </strong><ul><li>Windows Servers\Windows Server 2016\Windows Server 2016 Datacenter\Remote Desktop Services and Terminal Services</li><li>Windows Servers\Windows Server 2016\Windows Server 2016 Standard\Remote Desktop Services and Terminal Services</li><li>Windows Servers\Windows Server 2012 R2\Windows Server 2012 R2 Datacenter\Remote Desktop Services and Terminal Services</li><li>Windows Servers\Windows Server 2012 R2\Windows Server 2012 R2 Standard\Remote Desktop Services and Terminal Services</li><li>Windows Servers\Windows Server 2012\Windows Server 2012 Standard\Remote Desktop Services and Terminal Services</li><li>Windows Servers\Windows Server 2012\Windows Server 2012 Datacenter\Remote Desktop Services and Terminal Services</li><li>Windows Servers\Windows Server 2008 R2\Windows Server 2008 R2 Service Pack 1\Remote Desktop Services and Terminal Services</li><li>Windows\Windows 8.1\Windows 8.1\Remote Desktop Services and Terminal Services</li><li>Windows\Windows 7\Windows 7 Enterprise\Remote Desktop Services and Terminal Services</li><li>Windows\Windows 10\Windows 10\Remote Desktop Services and Terminal Services</li></ul></p><div><div><span style="color:rgb(255, 0, 0);font-family:&quot;Segoe UI&quot;, Segoe, Tahoma, Helvetica, Arial, sans-serif;font-size:13px;font-style:normal;font-weight:400;letter-spacing:normal;orphans:2;text-align:start;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;background-color:rgba(255, 255, 255, 0.85);display:inline !important;"><div style="color:rgb(50, 49, 48);margin:0px 0px 16px;font-size:17px;font-weight:300;text-align:center;"><strong style="color:rgb(232, 17, 35);font-size:16px;">&#128274; Microsoft confidential. For internal use only.</strong><br></div><p style="color:rgb(50, 49, 48);margin:0px 0px 16px;font-size:17px;font-weight:300;text-align:left;"><strong><span style="font-size:15px;"><span style="color:rgb(232, 17, 35);">The below topics often contain significant MSINTERNAL information that should never be shared externally including with customers, partners or OEMs under NDA. Be careful what you share and how you share it: Bug #’s, future release dates and other Microsoft confidential IP should never be shared externally.</span></span></strong></p><span></span></span></div><div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#46</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-46" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">mstsc.exe or other 3rd party RDP clients hang at logoff due to Wininit ping if URL www.Microsoft.com is blocked</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;">OS version(s)</td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1809, 1903</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Mstsc client will hang for 45-60s sometimes more as soon as the user logs off from a session that was using an RD Gateway. The Mstsc client will be visible in Task Manager although it is completely not visible to the user. During this time, the user is unable to open a new Mstsc session to a different system, they need to wait until the client process is gone from task manager to re-initiate another session.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Looks like we have introduced some code in RS1 for the RDP Client when we are using a Gateway in the picture. There is a check (ping) on internet connectivity both on connect and disconnect.</p><p style="margin:0px;">As customers start to block&nbsp;<a href="http://www.microsoft.com/" style="color:rgb(0, 120, 212);text-decoration:underline;">www.microsoft.com</a>&nbsp;direct ping is no longer possible and customers will start experiencing the mstsc hang,</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;"><a href="https://microsoft.visualstudio.com/OS/_workitems/edit/25956936" style="color:rgb(0, 120, 212);text-decoration:underline;">BUG 25956936</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Under investigation<br></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#45</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-45" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">&quot;Restrict Credential Delegation&quot; GPO doesn't work as expected (Restricted Admin mode is preferred instead of Remote Credential Guard)</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;">OS version(s)</td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1607</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">If you connect to a Windows Server 2016 or 2019 with RDP and &quot;restrict Credential Delegation&quot; setting,&nbsp;then&nbsp;&quot;Restricted Admin&quot; mode is used.&nbsp;You cannot access other services from the server. If your account is not admin, you are not authorized to logon to the server.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;"><span>Repro steps:</span></p><p style="margin:0px 0px 0px 40px;">- On a Windows 2016 server, enable Remote Credential:&nbsp;</p><p style="margin:0px 0px 0px 40px;">reg add HKLM\SYSTEM\CurrentControlSet\Control\Lsa /v DisableRestrictedAdmin /d 0 /t REG_DWORD</p><p style="margin:0px 0px 0px 40px;">- On a Windows 10 workstation, set the GPO &nbsp;Computer Configuration&nbsp;-&gt;&nbsp;Administrative Templates&nbsp;-&gt;&nbsp;System&nbsp;-&gt;&nbsp;Credentials Delegation -&gt;&nbsp; Restrict delegation of credentials to remote servers to Restrict credential delegation</p><p style="margin:0px 0px 0px 40px;">- From the client, logon locally and then create a RDP session to this server with mstsc.exe</p><p style="margin:0px 0px 0px 40px;">- If the user is admin, logon will be successful but restricted admin mode&nbsp;is used: for instance you will not be able to access remote server: dir \\otherserver\share will never work</p><p style="margin:0px 0px 0px 40px;">- If the user is not admin on server, you will not be authorized to logon to this server</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;"><a href="https://microsoft.visualstudio.com/OS/_workitems/edit/23448941" style="color:rgb(0, 120, 212);text-decoration:underline;">BUG 23448941</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Under investigation<br></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#44</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-44" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;"><strong>Remote desktop connections appear stalled/frozen due to URCP receive rate calculation using ms instead of seconds as unit</strong></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;">OS version(s)</td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1809, 1903, 1909</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">For some connections, the remote desktop sessions appear to stall/freeze after a certain time, causing the user to have to disconnect and reconnect again.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">The root cause is that the RDP UDP rate control unit may not handle&nbsp;lossy mode reliably especially when the loss packets are sparse and bursty. The timestamp used for windowed filter of the loss related variables are incorrectly in unit of ms rather than in unit of second.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1809:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems/edit/23835681" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">BUG 23835681</a></p><p style="margin:0px;">1903:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems/edit/23687209" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">BUG 23687209</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1809: Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4537818" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4537818</a>​​​​​​​</p><p style="margin:0px;">1903, 1909: Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4532695" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4532695<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#43</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-43" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;"><strong>RDP disconnect and DWM crash when client RDP window minimized/maximized</strong></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;">OS version(s)</td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1903</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Customers may experience disconnected RDP sessions due to leaked system memory if the remote session is rendered by WARP or video memory if rendered by GPU.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">DXGDEVICE attached to swapchain for rendering gets leaked after swapchain is taken away. This happens every time user minimizes/maximizes client Rdp window. GPU eventually is left out of video memory making DWM to crash and forcing user session to disconnect.</p><p style="margin:0px;"><br></p><p style="margin:0px;">Repro:</p><p style="margin:0px;">1) Establish RDP connection to remote session</p><p style="margin:0px;">2) Perform subsequent min/max of client RDP window</p><p style="margin:0px;">3) Session disconnect may be observed</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;"><a href="https://microsoft.visualstudio.com/OS/_workitems/edit/23506521" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">BUG 23506521</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-gb/help/4535996" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4535996</a>​​​​​​​<br></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#42</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-42" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;"><strong>Logon hang at Welcome screen, existing sessions freeze, &quot;An internal error has occurred&quot; or WVD VM NoHeartbeat due to thread pool exhaustion caused by bisrv!BipDeleteBrokerEventCallback</strong></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1803, 1809, 1903, Vibranium, Manganese</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1) Logon hangs at Welcome screen immediately after providing valid user logon credentials (username + password)<br>2) Attempting to RDP to the VM in Windows Virtual Desktop gives the following client error: &quot;An internal error has occurred.&quot;<br>3) WVD VMs may show up with status &quot;NoHeartbeat&quot;<br>4) Existing RDP sessions freeze, none of the opened applications inside the RDP session are responsive anymore and users cannot launch new applications or close existing&nbsp;ones, sometimes not even when using the Task Manager. The Start Menu also becomes unresponsive.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Preferred workaround:</p><p style="margin:0px 0px 0px 40px;">In Task Scheduler, disable the task &quot;BgTaskRegistrationMaintenanceTask&quot; located in \Microsoft\Windows\BrokerInfrastructure</p><p style="margin:0px;"><br>The side effects of not running​ the cleanup task consist of (1.) increased memory usage in the order of MBs at most and (2.) associated CPU cost to populate it and (3.) longer boot times. In summary performance degradation is minimal, especially if all we deal with is accumulation of data over the next 2 months or so.<br><br>More info on this workaround and how to automate:&nbsp;<a href="https://techcommunity.microsoft.com/t5/Windows-Virtual-Desktop/Workaround-for-non-responsive-Windows-10-Enterprise-multi/m-p/1017828#M2080" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">https://techcommunity.microsoft.com/t5/Windows-Virtual-Desktop/Workaround-for-non-responsive-Windows-10-Enterprise-multi/m-p/1017828#M2080</a><br><br>-----//-----<br>Alternative workaround:</p><p style="margin:0px 0px 0px 40px;">​Put&nbsp;the&nbsp;SystemEventsBroker service or the&nbsp;BrokerInfrastructure&nbsp;service into its own host process.</p><p style="margin:0px;"><br>This&nbsp;may help with the logon hang, but&nbsp;may&nbsp;also&nbsp;cause side effects (like Desktop background does not load, search bar flickers, Start Menu fails and mapped network shares are not accessible).​</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Internal KB:&nbsp;<a href="https://internal.support.services.microsoft.com/en-us/help/4521555" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">https://internal.support.services.microsoft.com/en-us/help/4521555​</a><br>IcM:&nbsp;<a href="https://portal.microsofticm.com/imp/v3/incidents/details/152192009/home" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">https://portal.microsofticm.com/imp/v3/incidents/details/152192009/home​</a><br><br>Please note that these symptoms could have other causes too, so make sure you validate with a full memory dump that you are really running into the &quot;bisrv&quot; issue.<br><br>To get a complete&nbsp;memory dump of an on-prem machine, see:&nbsp;<a href="https://docs.microsoft.com/en-us/windows/client-management/generate-kernel-or-complete-crash-dump" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">Generate a kernel or complete crash dump</a><br>To get a complete&nbsp;memory dump of an Azure/WVD VM, see:&nbsp;Get Complete Memory Dump from Azure VM through Azure Portal&nbsp; (<a href="https://microsoft.sharepoint.com/teams/RemoteDeskTopServices/rds/_layouts/OneNote.aspx?id=/teams/RemoteDeskTopServices/rds/SiteAssets/rds%20Notebook&amp;wd=target%28RDS%20Troubleshooting/Windows%20Virtual%20Desktop.one%7c15193031-2B8D-42CA-84D8-2A8675905506/Get%20Complete%20Memory%20Dump%20from%20Azure%20VM%20through%20Azure%20Portal%7c29EB0150-EADA-48E9-B6ED-04D5CDDED2A6/%29" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">Web view</a>)​</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Manganese:&nbsp;<a href="https://microsoft.visualstudio.com/DefaultCollection/OS/_workitems/edit/23978157" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">BUG 23978157</a>​ +&nbsp;<a href="https://microsoft.visualstudio.com/DefaultCollection/OS/_workitems/edit/23806060" style="color:rgb(0, 120, 212);text-decoration:underline;">BUG 23806060</a>&nbsp;<br>1903:&nbsp;<a href="https://microsoft.visualstudio.com/DefaultCollection/OS/_workitems/edit/23672549" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">BUG 23672549</a><br>1809:&nbsp;<a href="https://microsoft.visualstudio.com/DefaultCollection/OS/_workitems/edit/23437370" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">BUG 23437370</a><br>1803:&nbsp;<a href="https://microsoft.visualstudio.com/DefaultCollection/OS/_workitems/edit/23428512" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">BUG 23428512</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Manganese: Fixed<br>Vibranium: Under investigation<br>1903: Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-gb/help/4535996" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4535996</a>​​​​​​​<br>1809: Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4537818" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4537818</a>​​​​​​​<br>1803: Won't fix<br></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#41</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-41" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;"><strong>Regression when allowing several sessions per user (fSingleSessionPerUser) on a standalone RDSH</strong></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1809</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">You set up a standalone RDSH server and allow multiple sessions per user (fSingleSessionPerUser = 0). When User1 logs on and disconnects, then attempts to reconnect, a new session is created for the same user, rather than the disconnected sessions reconnecting (RS1 behavior).</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;"><br></p><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;"><a href="https://microsoft.visualstudio.com/OS/_workitems/edit/21772840" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems/edit/21772840</a></p><p style="margin:0px;"><br></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Public release target 2020.07 C<br></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#40</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-40" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;"><strong>Incorrect column size for param serverFQDN leads to broker redirection failure causing impossibility to connect if a machine has a FQDN greater than 64 characters</strong></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1607, 1809</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Published RemoteApps cannot be started from an Azure RDS deployment.<br>The user receives the error&quot; &quot;This computer can't connect to the remote computer. Try connecting again. If the problem continues, contact the owner of the remote computer or your network administrator.&quot;</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">The only workaround is to recreate everything again after knowing this bug is limiting the FQDN of servers to 64 characters.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">100% reproducible. If machine FQDN is greater than 64 characters, RDS deployment cannot be used. Each collection with a machine name greater than 64 characters will not work.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1607:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems/edit/22427308" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">BUG 22427308</a></p><p style="margin:0px;">1809:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems/edit/24387479" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">BUG 24387479</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1607: Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4537806" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4537806</a>​​​​​​​</p><p style="margin:0px;">1809: Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4537818" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4537818</a>​​​​​​​<br></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#39</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-39" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;"><strong>RDP connection fails with 0x609 due to Cisco Firewall rules update</strong></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Multiple OS</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Users are not able to RDP to a Remote machine. Whenever they try to RDP, users get the error An authentication error has occurred (0x609).</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;"><br></p><p style="margin:0px;">A bad Cisco IPS/Firepower rule push may affect the RDP traffic.&nbsp;<br>These Firewall rules updates from Cisco are called Sourcefire Rule Update (SRU).<br><br>More on this topic, incl. resolution​:&nbsp;<a href="https://community.cisco.com/t5/security-documents/firepower-drops-rdp-traffic-after-sru-rule-update-2019-05-24-001/ta-p/3862835" style="color:rgb(0, 120, 212);text-decoration:underline;">https://community.cisco.com/t5/security-documents/firepower-drops-rdp-traffic-after-sru-rule-update-2019-05-24-001/ta-p/3862835</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Fixed by Cisco. See the article under&nbsp;'Additional info'.<br></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#38</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-38" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;"><strong>Closing the 3rd RDP connection may prevent an admin to logon or a shutdown to end properly</strong></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1607</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Multiple remote RDP connections to Windows Server (admin sessions), may lead to a situation where nobody can connect with RDP/console to&nbsp;a server and manage it.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Admin​ have to check server and select “connect” for “ghost” user in task manager to temporarily resolve login issue. This action has to be performed each time issue is occurring.<br>We can reach some situations where shutdown cannot complete and will require to hard reset the server.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;"><br></p><p style="margin:0px;">Scenario:<br><br>1. User A is logging (RDP/Console) into the server with success<br>2. User B is logging (RDP/console) into the server with success<br>3. User C is trying to login but sees that both sessions are used so:<br>&nbsp;- A Windows Sign-in dialog box appears , with Select a user to disconnect so that you can sign in<br>4. User C closes the RDP session ( and didn't select a user or dismiss the Windows Sign-in dialog box)<br><br>At this point, if User C tries to connect he will get &quot;the task you are trying can't be complete because remote Desktop Ser vices is currently busy<br>If another user tries to connect, then he will stay with &quot;Welcome&quot; wheel for a long time and may succeed to logon. But the behavior is erratic and other users may be blocked at&nbsp;the &quot;Welcome&quot; screen or may get the RDS is busy message.<br>If UserA/UserB logoff/disconnect, then if they try to logon again, they will be blocked at the &quot;Welcome&quot; stage for a long period.<br><br>At this stage, Shutdown machine may fail and in that case you will need to hard reset the machine.<br><br>After 4), in Task Manager one session with only 4 processes without name can be seen. So if UserA (or UserB) right-click on this session and select &quot;Connect&quot; (sign-out doesn't work) then the Windows sign-in &quot;Select a user to disconnect&quot; will appear and we can recover from this problem.<br><br>If a Shutdown is initiated, then it will never end.​</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;"><a href="https://microsoft.visualstudio.com/OS/_workitems/edit/21606409" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems/edit/21606409</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4534307" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4534307<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#37</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-37" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;"><strong>Users stuck with black screen for 16mins with fSingleSessionPerUser set to 0</strong></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1607</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">User session are getting hung post a few users logon when &quot;Restrict Remote Desktop Services users to a single RDS session&quot; is disabled and profiles are being deleted uppon logoff (or new user accounts without existing profile log in).</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1. Ensure that &quot;Restrict Remote Desktop Services users to a single RDS session&quot; is enabled. That is fSingleSessionPerUser is set to 1.<br>2. The issue will only affect full desktop sessions. Therefore if we avoid explorer/desktop in the session, the issue can be avoided.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;"><br></p><p style="margin:0px;">This may occur more frequently in Citrix VDA farm deployments where the policy “Restrict Remote Desktop Services users to a single Remote Desktop Services session” is disabled and the user profile is deleted on logoff.</p><p style="margin:0px;">For example, in a farm setup with 2 VDA server, it has been observed that when user logons in quick succession, we see user session hang at logon for 15 to 16 minutes. The issue is not observed if the AppReadiness service is set to disabled​.</p><p style="margin:0px;">​</p><p style="margin:0px;">If on the RDS server multiple sessions for the same user is enabled, on new user logons, UWP App registration get stuck if the same user logs on to the same box in quick succession. Multiple such AppReadiness tasks stuck (3+), will cause other new user logons to get stuck.</p><p style="margin:0px;"><br></p><p style="margin:0px;">Internal KB:&nbsp;<a href="https://internal.support.services.microsoft.com/en-us/help/4497595" style="color:rgb(0, 120, 212);text-decoration:underline;">https://internal.support.services.microsoft.com/en-us/help/4497595</a>&nbsp;​</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">https://microsoft.visua​lstudio.com/OS/_workitems?id=20142770</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">By design<br></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#36</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-36" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;"><strong>Audiodg/audiosrv deadlock leading to black screen at logon for new users on Windows Server 1607 [2C-RegressionFix]</strong></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1607</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Some users are unable to logon to the RS1 RDSH servers due to a deadlock. This happens ONLY for new user-sessions; existing sessions are not impacted.​</p><p style="margin:0px;"><br></p><p style="margin:0px;">In some cases you might also see explorer.exe hanging.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Admins can restart the Audio Service on the affected server to allow clients to log back again.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">The issue is a regression from 2C fix (Bug 19556677). Original issue had the same symptoms. We fixed the original issue and the new issue impacts the customer in the same way.</p><p style="margin:0px;">​</p><p style="margin:0px;">ICM:&nbsp;<a href="https://icm.ad.msft.net/imp/v3/incidents/details/112184730" style="color:rgb(0, 120, 212);text-decoration:underline;">https://icm.ad.msft.net/imp/v3/incidents/details/112184730</a></p><p style="margin:0px;">Internal KB:&nbsp;<a href="https://internal.support.services.microsoft.com/en-us/help/4476813" style="color:rgb(0, 120, 212);text-decoration:underline;">https://internal.support.services.microsoft.com/en-us/help/4476813</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">https://microsoft.visua​lstudio.com/OS/_workitems?id=20957279</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4493470" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4493470<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#35</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-35" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;"><strong>InternalMakeServerOnlineCall fails with 0x80070057 after restarting RDSH resulting in connection failure​</strong></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1607, 1703, 1709, 1803, 1809, 1903</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">After restarting the RDSH, end user is always unable to connect to RDSH. In order to recovery the situation, TermService for all RDSHs need to be restarted manually and this tasks time and operation cost.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Admins need to restart TermService every time after restating the server.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">This happens because InternalMakeServerOnlineCall that sends an online notification to RDCB fails. Then RDCB does not register the RDSH to its DB as a active online server. Hence, the RDSH will never be redirected.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1903:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=20445142" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=20445142</a>​<br>1809:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=20445134" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=20445134</a>​<br>1803:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=20445129" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=20445129</a>​<br>1709:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=20445123" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=20445123</a>​<br>1703:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=20445198" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=20445198</a>​<br>1607:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=19470969" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=19470969</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1607, 1703, 1709, 1803, 1809, 1903: Won't fix<br></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#34</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-34" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;"><strong>Password stored in plaintext in memory (termsrv)​</strong></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">2008 SP2, 7 SP1, 2012, 8.1, 2012 R2, 1507, 1607, 1703, 1709, 1803, 1809</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Password is stored in plaintext in the memory of termsrv.dll for the duration of the Remote Desktop Connection.<br>It's possible for an administrator on a server/client to create a dump of svchost.exe hosting termsrv.dll and dump out the password in plain text of any user connected to the machine.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1809:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=19870693" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=19870693</a>​<br>1803:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=19870692" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=19870692</a>​<br>1709:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=19870691" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=19870691</a>​<br>1703:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=19870690" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=19870690</a>​<br>1607:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=19870689" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=19870689</a>​<br>1507:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=19870688" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=19870688</a>​<br>Win8.1/Server 2012 R2:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=19870686" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=19870686</a>​<br>2012:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=19870685" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=19870685</a>​<br>Win7/2008 R2:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=20758811" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=20758811</a>​<br>2008 SP2:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=19870683" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=19870683</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1809: Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4493509" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4493509</a><br>1803: Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4493464" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4493464</a><br>1709: Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4493441" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4493441</a><br>1703: Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4493474" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4493474</a><br>1607: Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4493470" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4493470</a><br>1507: Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4493475" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4493475</a><br>8.1/2012 R2: Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4493467" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4493467</a><br>2012: Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4493450" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4493450</a><br>7/2008 R2: Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4493448" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4493448</a><br>2008 SP2: Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4493458" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4493458<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#33</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-33" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;"><strong>Remote session is blacked out (completely broken) after keeping it minimized for 10-15 minutes​</strong></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1809</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">On certain unknown network conditions, the remote desktop connection can fail with black or frozen screen after the client minimization or screen lockup for more than 5 minutes.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">This issue causes inconvenience for remote access (the user needs to reconnect after a long time of client in the idle state) which affects productivity.<br>The issue was caused when UDP keepalive packets are no longer sent in the case of network inactivity.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">https://microsoft.visua​lstudio.com/OS/_workitems?id=20136002</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4490481/windows-10-update-kb4490481" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4490481<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#32</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-32" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;"><strong>Internet Explorer 11 authentication issues /&nbsp;Impersonation failure when accessing user resources across desktop sessions after 2019-01 update​</strong></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">2008 R2, 2012, 2012 R2, 1607, 1809</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">After installing this update, Internet Explorer 11 may have authentication issues. This occurs when two or more people use the same user account for multiple, concurrent login sessions on the same Windows Server machine, including Remote Desktop Protocol (RDP) and Terminal Server logons.<br>Symptoms reported by customers include, but may not be limited to:​</p><p style="margin:0px 0px 0px 40px;">Cache size and location show zero or empty.</p><p style="margin:0px 0px 0px 40px;">Keyboard shortcuts may not work properly.</p><p style="margin:0px 0px 0px 40px;">Webpages may intermittently fail to load or render correctly.</p><p style="margin:0px 0px 0px 40px;">Issues with credential prompts.</p><p style="margin:0px 0px 0px 40px;">Issues when downloading files.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1. Create unique user accounts so that two people don’t share the same user account when logging on to a Windows Server machine.&nbsp;</p><p style="margin:0px;">2. Or disable multiple RDP sessions for a single user account for a specific Windows Server.</p><p style="margin:0px;">3. Or use other browsers (like for example Chrome)</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;"><a href="https://internal.support.services.microsoft.com/en-us/help/4491163" style="color:rgb(0, 120, 212);text-decoration:underline;">https://internal.support.services.microsoft.com/en-us/help/4491163</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1903:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=20625626" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=20625626</a><br>1809:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=20625616" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=20625616</a><br>1803:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=20625614" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=20625614</a><br>1709:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=20625609" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=20625609</a><br>1703:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=20625605" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=20625605</a><br>1607:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=20625599" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=20625599</a><br>1507:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=20625603" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=20625603</a><br>2012 R2:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=20625591" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=20625591</a><br>2012:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=20625582" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=20625582</a><br>2008 R2:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=20542250" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visua​lstudio.com/OS/_workitems?id=20542250</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Won't fix for 1903<br>1809: Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4493509" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4493509</a><br>1607: Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4493470" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4493470</a><br>2012 R2: Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4493467" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4493467</a><br>2012: Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4493450" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4493450</a><br>2008 R2: Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4493448" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4493448<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#31</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-31" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">RDS IP address virtualization (virtual IP) not working anymore in RDS 2019</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1809</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">RDS IP address virtualization (virtual IP) not working any more in 2019</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Repro steps:&nbsp;</p><p style="margin:0px;">Install DC and join a 2016 server and a 2019 server.</p><p style="margin:0px;">Install the RDS roles on 2016 and 2019<br>Create an additional user in the AD.<br>Enable VIP over the registry keys.<br>Using RDS connection manger for example log on as administrator and as user to both server.<br>Run ipconfig /all</p><p style="margin:0px;">This shows 3 IPs (1 real, 2 VIPs) on 2016, only the real one on 2019.</p><p style="margin:0px;"><br><br></p><p style="margin:0px;">Copying the working registry from 2016 to 2019 does not work.<br><br>The underlying technology (Winsock LSP) is deprecated. Fixing it in Windows Server&nbsp;2019 might be a considerable redesign.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">https://microsoft.visua​lstudio.com/OS/_workitems?id=20440030</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Won't fix<br></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#30</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-30" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">License type is not set correctly in case of 'mstsc /admin' resulting in connection failure with a license error</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">2008 R2</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">After installing 2018.09C (KB4457139), users cannot connect to RDSH with license error even if /admin option is specified. Before 2018.09C, usually user can connect to RDSH if /admin is specified even if license grade period is expired. But it starts failing with license error after 2018.09C.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Installing 2018.09C causes this issue. Occurs always if the license grace period is expired.<br>So far, this does not seem to happen on Server 2012 R2 or later RDSH.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">https://microsoft.visua​lstudio.com/OS/_workitems?id=20221572</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Won't fix<br></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#29</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-29" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">RDP from Windows 10 1809 to a Windows Server 2019 ends in black blank window</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1809</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">When attempting to RDP from a Windows 10 1809 client to a Windows Server 2019 server, you get a black blank window. Eventually you also get a message 'An Internal error has occurred'.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Configuring the following registry key might help:</p><p style="margin:0px;">HKLM\SOFTWARE\Microsoft\Terminal Server Client\UseURCP = 0 &nbsp;&nbsp; (REG_DWORD)</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Connecting to the same Windows Server 2019 server locally (console) works fine.<br>Disabling NLA does not help.<br>If you reboot the server or restart the RDP service, sometimes you can connect via RDP again, but attempting to RDP again at a later time you may get the blank screen again.<br><br>See internal KB for more details and trace hints:<span>&nbsp;</span><a href="https://internal.support.services.microsoft.com/en-us/help/4486884" style="color:rgb(0, 120, 212);text-decoration:underline;">https://internal.support.services.microsoft.com/en-us/help/4486884</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">https://microsoft.visua​lstudio.com/OS/_workitems?id=18321097</p><p style="margin:0px;">https://microsoft.visua​lstudio.com/OS/_workitems?id=19919820</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4482887" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4482887</a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#28</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-28" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">Race Condition between usbaudio!USBType1AsyncEndpointAbortFeedback and usbaudio!USBType1AsyncEndpointPoll can stall the former and make LogonUI wait forever (stuck in black screen)</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1607</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Client users connecting via RDS to servers for regular business flows: ERP system (Dynamics AX); CRM, HR and Accounting systems (3rd party).<br>If user keeps using the remote session, no problem and experience is not affected by other people’s problem.<br>If user logs out from the remote session, when trying to logon again in the RDP client the window is completely black.<br>And (for an hour) any NEW attempted remote session of other users would be affected by same issue.<br>If someone already logged in restarts the audio-service, then also the new session users would be able to login.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">- ask other users already in-session to restart Audio Service<br>- or restart the server (sessions lost)<br>- or wait for server to finish logon (up to 1 hour)</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">LogonUI stuck waiting for a PNP notification on the usbaudio (usbaudio!USBType1AsyncEndpointAbortFeedback). This is going to be stuck forever due a race condition signaling event (PollWorkerCompleteEvent).​</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">https://microsoft.visua​lstudio.com/OS/_workitems?id=19406779</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4487006" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4487006<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#27</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-27" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">After Universal Rate Control Protocol changes sometime RDP fails on RS5 due restricted VPN MTU packet size settings</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1809</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Remote desktop connection can fail with black or frozen screen when using UDP transport if both client and target machine are running Windows 10 1809 or Windows Server 2019.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">This issue blocks remote access which affects productivity. On certain VPNs, the issue happens consistently blocking all remote access.<br>The issue is caused when a UDP (User Datagram Protocol) packet exceeds 1600 bytes. Some networks have MTU (Maximum Transmission Unit) of &lt; 1600 bytes and are dropping the packets.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">https://microsoft.visua​lstudio.com/OS/_workitems?id=19919820</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4482887" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4482887<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#26</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-26" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">HyperV VM boot process stops at Windows Manager due to infinite keyboard message loop if VMConnect is attached</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1607</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Hyper-V VM may get stuck during the reboot process if VMConnect is attached to the VM.<br>Sometimes when interacting with a VM through vmconnect.exe the numlock indicator on the keyboard starts flashing VERY quickly and input to the keyboard is very slow.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">During reboot the Hyper-V VM (server) sends a TS_PDUTYPE2_SET_KEYBOARD_INDICATORS PDU to VMConnect (client) , the mstscax (rdp client loaded by VMConnect) injects 2 keyboard events to change the client-side keyboard indicator status. These 2 injected keyboard events are captured by mstscax client input module and sent to server. When server (Hyper-V VM) receives them it sends TS_PDUTYPE2_SET_KEYBOARD_INDICATORS PDU again hence the infinite loop.<br>RDP server does not send TS_PDUTYPE2_SET_KEYBOARD_INDICATORS PDU when it receives the keyboard indicator events from the client so the bug does not repro in normal RDP scenarios.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">https://microsoft.visua​lstudio.com/OS/_workitems?id=19537523</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4476976" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4476976<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#25</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-25" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">Win10: 1809 update causing random RDP failures</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1809</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">After upgrading to Windows 10 1809, users may see random RDP failures. Every so often (once every 30 seconds or so), user may see the re-establishing connection dialog. It shows 1 (out of the normal 20 attempts it makes to re-establish connection), and then goes away, but the screen still shows as black.<br>Symptoms include:<br>Black screen on connection<br>Mouse cursor seen as hourglass<br>Disconnect after 1 min</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Disable UDP transport for RDP via group policy.<br>Use other RDP clients instead of mstsc.exe (e.g. the modern RD client from the Store).</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;"><a href="https://internal.support.services.microsoft.com/en-us/help/4476481" style="color:rgb(0, 120, 212);text-decoration:underline;">https://internal.support.services.microsoft.com/en-us/help/4476481</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1809:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=19560575" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=19560575​</a><span>&nbsp;</span>+<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=19919820" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=19919820​</a><br>1903:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=19558294" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=19558294​</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1809: Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4482887" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4482887</a></p><p style="margin:0px;">​Fixed in 1903<br></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#24</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-24" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">Disable &quot;Fast Reconnect&quot; feature and make it an opt-in to unblock Citrix rollout of Server 2019</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1809</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Citrix is unable to disable a new feature called &quot;Fast Reconnect&quot; where we skip going through a temporary session on a reconnect.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">The &quot;Fast reconnect&quot; path was enabled in RS4 to reduce connection latency with WDAG scenarios. This path is not compatible with 3rd party remoting protocols being used by Citrix.<br>The fix makes sure that Fast Reconnect is turned off for 3rd party stacks by default. It remains turned on for the intended RDP scenarios with WDAG but it becomes opt-in when 3rd party stacks returns TRUE through a &quot;QueryProperty&quot; API call.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;"><a href="https://microsoft.visualstudio.com/OS/_workitems?id=19180443" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=19180443</a>​</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4469342" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4469342​<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#23</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-23" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">EnableEUDC causes RDS server hang</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1607</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Applications running on Windows Server 2016​ Session Host​​ and calling EnableEUDC() may cause system hang. When the issue occurs, users cannot logon to the RDSH anymore.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">The server needs to be rebooted to recover from the hang state.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">When the problem occurs, not only the new users would not be able to logon to the RDS servers, for all active user sessions, most of the process hang up, meaning data being modified would not be saved. To recover from the hang, the servers have to be forcefully rebooted, resulting in data lost and time loss.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;"><a href="https://microsoft.visualstudio.com/OS/_workitems?id=17845919" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=17845919</a>​</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4467684" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4467684<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#22</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-22" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">Audiodg/audiosrv deadlock leading to black screen at logon</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1607</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">There are multiple reports of Windows Server 2016 Remote Desktop Session Host and users getting black screen on logon. This is seen for both users and admin and may require reboot of the server.<br>A possible cause may be tied to the Windows Audio Device Graph Isolation service.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">A reboot usually mitigates the issue for some time.</p><p style="margin:0px;">Alternatively, pskill-ing the audiodg.exe process may also allow logons to work fine again for a while.</p><p style="margin:0px;">Configuring &quot;No Sounds&quot; scheme on the RDSH has also been reported to temporarily help with the black screen, but sooner or later the issue reoccurs.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;"><a href="https://internal.support.services.microsoft.com/en-us/help/4133581" style="color:rgb(0, 120, 212);text-decoration:underline;">https://internal.support.services.microsoft.com/en-us/help/4133581</a></p><p style="margin:0px;"><a href="https://internal.support.services.microsoft.com/en-us/help/4476813" style="color:rgb(0, 120, 212);text-decoration:underline;">https://internal.support.services.microsoft.com/en-us/help/4476813</a></p><p style="margin:0px;"><a href="https://social.technet.microsoft.com/Forums/en-US/4e3ff4ea-ad23-4dda-b1e9-022f8d76c8e6/remote-desktop-rds-2016-gives-back-screen-on-logon-and-prevents-progression-to-desktop-audiodgexe" style="color:rgb(0, 120, 212);text-decoration:underline;">https://social.technet.microsoft.com/Forums/en-US/4e3ff4ea-ad23-4dda-b1e9-022f8d76c8e6/remote-desktop-rds-2016-gives-back-screen-on-logon-and-prevents-progression-to-desktop-audiodgexe</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">https://microsoft.visualstudio.com/OS/_workitems?id=19556677​</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4487006" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4487006<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#21</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-21" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;"><strong>RDP breaks due to keyboard/mouse device install failure /&nbsp;</strong><strong>RDP fails, displays blackscreen or disconnects during Logon w/ Winlogon Event 4005: &quot;The Windows logon process has unexpectedly terminated.&quot;</strong></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">2008 R2, 2012, 2012 R2, 1607</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Customers frequently call in with the below symptoms:</p><p style="margin:0px;">Clients cannot connect to the Remote Desktop Server&nbsp;</p><p style="margin:0px;">OR</p><p style="margin:0px;">RDP unexpectedly disconnects before the logon can complete<br>OR​​<br>RDP to Black Screen (e.g.: &quot;Customers are unable to RDP to the systems and see only a black screen. After about 40 seconds the connection closes.&quot;)<br>AND<br>Event 4005 Winlogon - &quot;The Windows logon process has unexpectedly terminated.&quot;</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">A reboot usually mitigates the issue for some time.<br>Some black screen scenarios may be solved by deleting&nbsp;the HKLM\System\CurrentControlSet\Enum\TERMINPUT_BUS\UMB\ key. However the PnP team specifically warns us against this as it creates a torn driver state and could cause compatibilty issues in the future.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">If there is no Event 4005 Winlogon - &quot;The Windows logon process has unexpectedly terminated&quot; event in the event log, then this issue does NOT apply to you.</p><p style="margin:0px;">​&nbsp;</p><p style="margin:0px;">There are many different potential causes for this problem. This is usually a difficult type of problem and can require many engineer hours to resolve, if the problem ever gets resolved at all.</p><p style="margin:0px;"><br>The first thing to realize is that Winlogon is NOT crashing. Neither is Winlogon encountering an unhandled exception. Winlogon gracefully handles the failure state and terminates itself because it cannot continue with the logon process. This means that there will not be a memory dump or Windows Error Reporting report generated, because Winlogon doesn't crash. Procdump configured as the AeDebug post-mortem debugger similarly will not help you, because Winlogon doesn't crash.<br><br>Read more about this issue, troubleshooting and possible solution in our internal article:<span>&nbsp;</span><a href="https://internal.support.services.microsoft.com/en-us/help/4347051" style="color:rgb(0, 120, 212);text-decoration:underline;">https://internal.support.services.micros​oft.com/en-us/help/4347051</a><br><br>If the issue is related to keyboard/mouse device installation:<br>The condition itself seems to have existed for a long time (cases span years), but a recent cluster of cases has brought it to the forefront and allowed better debugging.<br>Many of the affected companies are having this problem in Azure.<br>RDP times out waiting for keyboard/mouse arrival. They never arrive because due to an unknown precondition, the registry entries for the Keyboard and/or Mouse devices become corrupted - usually one or more value/data pairs are missing. The keys are here (asterisks denote a numeric value that varies): HKLM\System\CurrentControlSet\Enum\TERMINPUT_BUS\UMB\2&amp;2c22bcc9&amp;0&amp;Session*Keyboard*\<br><br>Because there are missing key/value pairs, when the usermode side of the device install is complete and the kernel PnP worker thread takes over, it experiences errors trying to install the device and the device install fails.<br>Result: RDP is then permanently broken as it continues to try to re-use those bad entries&nbsp;​for subsequent logons.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">2012 R2:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=19625737" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=19625737​</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Won't fix for 2012 R2<br></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#20</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-20" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">RDP fails on Hyper-V Server 2019</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1809 (Hyper-V Server 2019)</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">RDP connections to a Hyper-V Server 2019 fail even though RDP was enabled.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Possible workaround for customers is to copy RfxVmt.dll to System32 directory from any other 64bit vhd or image.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">The RDP listener cannot be created although&nbsp;the RDS services are up and running, firewall is disabled and all required&nbsp;RDP&nbsp;registry keys and the RDP&nbsp;self-signed certificate are available.<br><br>RDSTracing may show:</p><p style="margin:0px 0px 0px 40px;">[0]0444.0BB4::10/24/18-13:10:25.8440593 [Termsrv] [GenericTrace] szOutput=ERR::CoCreateInstance( IWRdsProtocolManager ) failed: 0x8007007e in CProtocolManager::Initialize<br>[...]<br>[0]0444.0BB4::10/24/18-13:10:25.8440689 [Termsrv] [GenericTrace] szOutput=:Protocol failed to create listener RDP-Tcp, error 0x8007007e<br>[...]<br>[1]0444.08D8::10/24/18-13:10:25.8695673 [Termsrv] [GenericTrace] szOutput=ERR::No listeners</p><p style="margin:0px;"><br>​Internal KB:<span>&nbsp;</span><a href="https://internal.support.services.microsoft.com/en-us/help/4469994" style="color:rgb(0, 120, 212);text-decoration:underline;">https://internal.support.services.microsoft.com/en-us/help/4469994</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">https://microsoft.visualstudio.com/OS/_workitems?id=19396963​​​</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">RS5: Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4482887" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4482887</a><br>Fixed in 19H1<br></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#19</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-19" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">Enabling FIPS settings should honor disabled system wide protocols</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">XP SP3, 2008 SP2, 2008 R2 SP1, 2012, 2012 R2, 1507, 1607, 1703, 1709, 1803</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Enabling FIPS using 'HKLM\System\CurrentControlSet\Control\Lsa\FIPSAlgorithmPolicy\Enabled' overwrites any other explicit TLS1.0 configurations, even if the schannel registry keys are set to disable that protocol HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.0).</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">FIPS behavior has already been updated for RS5. In RS5, enabling the FIPS key now honors the system-wide disablement of security protocols.<br>Internal KB:<span>&nbsp;</span><a href="https://internal.support.services.microsoft.com/en-us/help/4456529" style="color:rgb(0, 120, 212);text-decoration:underline;">https://internal.support.services.microsoft.com/en-us/help/4456529</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1803:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=18459334" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=18459334​​​</a><br>1709:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=18459335" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=18459335​​​</a><br>1703:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=18459336" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=18459336​​​</a><br>1607:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=17937603" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=17937603​​​</a><br>1507:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=18459337" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=18459337​​​</a><br>2012 R2:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=18459338" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=18459338​​​</a><br>2012:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=18459340" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=18459340​​​</a><br>2008 R2 SP1:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=18459341" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=18459341​​​</a><br>2008 SP2:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=18459344" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=18459344​​​</a><br>XP SP3:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=18459348" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=18459348​​​</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1803: Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4462933" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4462933​</a><br>1709: Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4462932" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4462932</a></p><p style="margin:0px;">1703: Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4462939" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4462939​</a>​</p><p style="margin:0px;">1607: Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4462928" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4462928</a>​<br>1507: Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4462922/" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4462922</a>​<br>2012 R2:&nbsp;Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4462921/" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4462921​</a>​</p><p style="margin:0px;">2012:&nbsp;Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4462925/" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4462925​​</a>​</p><p style="margin:0px;">2008 R2:&nbsp;Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4462927/" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4462927</a>​</p><p style="margin:0px;">2008 SP2:&nbsp;Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4463105/" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4463105</a>​</p><p style="margin:0px;">XP SP3:&nbsp;Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4459091/" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4459091​​<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#18</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-18" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">Wireless disconnects occur when trying to RDP to 802.x enabled device with User Authentication Only</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1703, 1709, Iron</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">When RDP is initiated to a laptop that is 802.1x enabled, the Wireless disconnects and does not reconnect automatically.<br>This happens when User Authentication is enabled.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Enable &quot;User or computer authentication&quot; if the customer wants to be able to take remote sessions.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Internal KB:<span>&nbsp;</span><a href="https://internal.support.services.microsoft.com/en-us/help/4093182" style="color:rgb(0, 120, 212);text-decoration:underline;">https://internal.support.services.microsoft.com/en-us/help/4093182</a><br>Contact Ajay Sarkaria to add your customer's business impact statement to VSO bug 16596975 assigned to RS5.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;"><a href="https://microsoft.visualstudio.com/OS/_workitems?id=16596975" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=16596975</a>​</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Under investigation<br></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#17</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-17" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">Smart card logon fails with STATUS_LOGON_FAILURE when logging on to a RDS server in a trusting domain and the user obtained the Primary TGT from a RODC that had the users secret cached.</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1607, 1703, 1709</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">The customer has a RDS server in a branch site that is hosted in the root domain.<br>Users from the child domain need to logon to the RDS server to use business critical applications for daily use.<br>Smart card is required based on a security mandate.<br>The users password is cached at the RODC (member of the &quot;Allowed RODC Password Replication Group&quot;).<br>Users attempting to authenticate to an RDP server with smart card will receive an error and won’t be able to logon.<br>The logon fails with a status of STATUS_LOGON_FAILURE = &quot;The attempted logon is invalid. This is either due to a bad username or authentication information&quot;</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Some workarounds exist but these all require the customer to compromise either in security or performance.<br>- Do not allow the users secrets to be cached on the RODC<br>- Deploy a Writable DC at the branch site<br>- Move the RDS server to the child domain (the same domain as the users)</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">The issue occurs because there are two different credential keys in use:<br>- Created by the writable DC and the one used to create the service ticket and encrypt the credentials.<br>- Created by the Read-Only DC and used by the client to attempt to decrypt the credentials.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1607:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=16450577" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=16450577​</a><br>1703:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=17462787" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=17462787​</a><br>1709:&nbsp;<a href="https://microsoft.visualstudio.com/OS/_workitems?id=17462788" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=17462788​​</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1607: Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4457127" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4457127</a><br>1703: Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4457141" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4457141</a><br>1709: Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4457136" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4457136​<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#16</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-16" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">RDP fails when NLA is used and user is not member of “Access this computer from the network”</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1607, 1709, 1803</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Windows 10 users attempting to RDP to Win10 or Server 2016 machines fail to connect when Network Level Authentication (NLA) is used. The user sees the following error:<br>&quot;Remote Desktop Connection<br>The system administrator has restricted the type of logon (network or interactive) that you may use. For assistance, contact your system administrator or technical support.&quot;</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">This behavior is not seen from Win7 clients.<br>This behavior is not seen if Network Level Authentication is not used.<br>Adding the desired user or “Remote Desktop Users” group to the users right for “Access this computer from the network” also prevents the behavior.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">https://internal.support.services.microsoft.com/en-us/help/4459842​</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">https://microsoft.visualstudio.com/OS/_workitems?id=18820604​</p><p style="margin:0px;"><a href="https://microsoft.visualstudio.com/OS/_workitems?id=19395447" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=19395447</a>​ (fix request to update the policy description)</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">The main fix request is closed. By design.&nbsp;</p><p style="margin:0px;">A fix request is open to update the policy description to reflect the proper behavior.​<br></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#15</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-15" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">Connection to RD Farm with High Availability Connection Broker fails when using RemoteGuard</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1607</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">RemoteApps or published desktops cannot be accessed securely with RemoteGuard (prevents password being sent to remote server) when using 2 or more Connection Brokers in High Availability.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1) Do not use RemoteGuard</p><p style="margin:0px;">or</p><p style="margin:0px;">2) Keep RemoteGuard but do not use Remote Desktop Connection Broker(s) and/or Remote Desktop Gateway server(s)</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">RemoteGuard only supports Kerberos to connect to a RDS deployment. NTLM cannot be used.<br>When using a RDCB HA, you have a virtual name for your brokers (in my case a Round robin DNS but it could be a load balancer).<br>When the client machine tries to connect, it tries to connect to the virtual name using Kerberos and challenges a Kerberos SPN.<br>As we are in an RDCB High availability setup, we cannot set an SPN on the virtual name for all the RDCB machines as this would create duplicate SPNs (Kerberos cannot work when you have duplicate SPNs).</p><p style="margin:0px;">As we fallback to NTLM, credential guard fails.</p><p style="margin:0px;">With a single RDCB, the connection may work but it is still not supported, see 'Status' below.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">https://microsoft.visualstudio.com/OS/_workitems?id=18662525​</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Closed. By design.</p><p style="margin:0px;">Remote Credential Guard is only supported for direct connections to the target machines and not for the ones via Remote Desktop Connection Broker and Remote Desktop Gateway.​</p><p style="margin:0px;">The public documentation has been updated to reflect this:<span>&nbsp;</span><a href="https://docs.microsoft.com/en-us/windows-server/remote/remote-desktop-services/rds-vdi-supported-config#remote-credential-guard" style="color:rgb(0, 120, 212);text-decoration:underline;">https://docs.microsoft.com/en-us/windows-server/remote/remote-desktop-services/rds-vdi-supported-config#remote-credential-guard<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#14</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-14" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">VMR9 (Video Mixing&nbsp;Renderer&nbsp;9) does not work over RDP (Remote Desktop) after upgrading to 1709</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1709</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">When using VMR9 to render video over RDP, only a black window is shown when the RDP target is Windows 10 1709. When RDP target is 1703 or earlier, the video is played correctly.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Repro steps: RDP to a Windows 10 1709 PC and open GraphEdit.exe (from Visual Studio/SDK). Manually build a graph to play a view file, using the VMR9 codec.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">https://microsoft.visualstudio.com/OS/_workitems?id=18279489​</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Closed. No repro.<br></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#13</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-13" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">Access violation in SessEnv!CCertEnrollment::FindTemplateInAD</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">2012 R2, 1607</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Users intermittently face problems while RDPing to the server. The RDP session doesn’t load all of user’s settings successfully.<br>The issue occurs intermittently. Once the issue occurs, the user needs to re-logo​​n again and it may work after 20+ minutes.<br><br>First time provisioned Azure machines, just finished with domain join. ​On-premise VMs do not face this problem.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">When performing Search for Certificate Template in AD using the public API ADsGetObject followed by IDirectorySearch::GetColumn method may lead to access violation in SessEnv's FindTemplateInAD function. This is happening because FindTemplateInAD lacks the return check documented for IDirectorySearch::GetColumn.<br><br>This issue is highly dependent on how the Active Directory template is populated. Usually it is not expected to return anything other than string data type. In this case, the line of investigation needs to be done from what is actually populated in AD.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">2012 R2:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=18143517" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=18143517​</a><br>1607:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=18158746" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=18158746​</a><br>1803:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=15328410" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=15328410​</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">2012 R2:&nbsp;Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4343891" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4343891​​</a><br>1607: Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4343884" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4343884​</a><br>Fixed in 1803.<br></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#12</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-12" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">RDP fails due to s​erver exceeding connection limit</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">2012 R2, 1607</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Customer loses access to the servers and cannot reconnect due to connection limit exceeded. If alternative (NOT RDP) remote administration options are available, the Terminal Services can be restarted to restore RDP to a functioning state. If alternative remote administration is not available, the server must be rebooted to restore RDP access.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1) Set HKLM\SYSTEM\CurrentControlSet\Control\Terminal Server\MaxOutstandingConnections to a very large value.<br>2) If alternative (NOT RDP) remote administration options are available, the Terminal Services can be restarted to restore RDP to a functioning state. If alternative remote administration is not available, the server must be rebooted to restore RDP access.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Customer upgraded directly to 2012R2 (or 2016) from Windows Server 2008 R2. This is an upgrade regression that was introduced in Windows Server 2012.<br>When a listener is started, the count of connecting connections is incremented by 1. This value is never decremented. This means that if a server has listeners that are stopping and starting, each time the start occurs, we increment the count of outstanding connections. This eventually leads to a condition where the outstanding connection count exceeds the maximum allowed number of connections. This results in a server where RDP connections are no longer accepted.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1607:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=18078477" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=18078477​</a><br>2012 R2:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=17563958" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=17563958​</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1607:&nbsp;Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4343884" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4343884​</a><br>2012 R2:&nbsp;Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4343891" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4343891​<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#11</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-11" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">Desktop Sharing fails (100%) on systems with a read-only user profile</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1803</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Desktop Sharing feature changes in RS3 to enable TLS protocol encryption introduced a regression where the feature fails (100%) of the time when the user profile is read-only. Some educational market and enterprises prevent the user profile (and associated registry hive) from being updated. The failure results from crypto API calls that required write access to the user profile registry hive.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">This is a very corner case scenario where user is running in mandatory user profile (e.g. used in kiosk scenarios) AND also sharing their desktop.<br>This is a regression introduced during the feature to add TLS support for Desktop Sharing feature in RS3.<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=11412646" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=11412646​</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">https://microsoft.visualstudio.com/OS/_workitems?id=17327928​</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4340917" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4340917​<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#10</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-10" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">RDP from older OS version (RS3 and lower) to RS4 fails to use UDP protocol when NLA is disabled</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1803</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">RDP from older OS version (RS3 and lower) to RS4 fails to use UDP protocol when NLA is disabled.<br>When legacy encryption (instead of TLS based) is used by the Remote Desktop connection, the UDP protocol is not used when connecting with pre-RS4 client. The connection succeeds using TCP but results in performance and latency impact on the connection.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">The issue only repros on mismatched OS version. Also, it only happens if less secure, non-default option is chosen for RDP and most selfhoster (rightly) do not select that. The security setting is not expected to impact UDP/TCP selec​tion in any way.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">https://microsoft.visualstudio.com/OS/_workitems?id=17738711​</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4340917" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4340917​<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#9</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-9" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">LogonUI.exe appears twice and user credential duplicately requested upon RDP session reconnect when Lock UI is active​</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1709</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">When user is connecting to a PC with remote desktop connection, the user needs to enter the password twice if the remote PC is locked (LogonUI.exe is running). This happens from RS3 and does not happen on RS2 or earlier nor on&nbsp;RS4.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">This happens when NLA is disabled. Here are the actual repro steps:</p><p style="margin:0px 0px 0px 40px;">1. Setup Windows 10 RS3.</p><p style="margin:0px 0px 0px 40px;">2. Logon to the RS3 and launch System property with ‘Windows + Pause’ key.</p><p style="margin:0px 0px 0px 40px;">3. Select ‘Remote’ tab and uncheck ‘Allow connections only from xxxx’ and click [OK] button.</p><p style="margin:0px 0px 0px 40px;">4. Launch local group policy editor(gpedit.msc).</p><p style="margin:0px 0px 0px 40px;">5. Configure below policy:</p><p style="margin:0px 0px 0px 80px;"><em>Computer Configuration\Administrative Components\Windows Components\Remote Desktop Services\Security\&quot;Require use of specific security layer for remote (RDP) connections&quot;</em></p><p style="margin:0px 0px 0px 40px;">6. Double click above policy and check ‘Enabled’ and select ‘RDP’ in pull down for “Security Layer”, and then click [OK] button.</p><p style="margin:0px 0px 0px 40px;">7. Run ‘gpupdate /force’ from elevated command prompt.</p><p style="margin:0px 0px 0px 40px;">8. In the RS3 machine, lock screen with [Window + L].</p><p style="margin:0px 0px 0px 40px;">9. From remote PC, connect to above RS3 PC with Remote Desktop Connection (mstsc).</p><p style="margin:0px 0px 0px 40px;">10. You will see logon screen appears twice and need to provide password twice as well.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">https://microsoft.visualstudio.com/OS/_workitems?id=17594441​</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4343893" style="color:rgb(0, 120, 212);text-decoration:underline;">KB​4343893​<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#8</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-8" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">After patching client machines, some client machines start to exhibit a double authentication prompt issue (Windows Security + Logon UI)​</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">7 SP1, 1709</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">The user receives the 1st prompt (Windows authentication prompt) and then the Windows logon screen is also displayed asking to enter the credentials again.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">You get the logon screen issue if you have patched your client machines with the following KBs:&nbsp;</p><p style="margin:0px;">Windows 7:<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4103718/windows-7-update-kb4103718" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4103718</a></p><p style="margin:0px;">​Windows 10 1709:<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4103727/windows-10-update-kb4103727" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4103727</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">To solve the issue, you will have to update the target servers also with the following (or later) patches:&nbsp;</p><p style="margin:0px;"><br></p><p style="margin:0px;">1607:<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4284880" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4284880</a></p><p style="margin:0px;">2012 R2:<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4284815" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4284815</a></p><p style="margin:0px;">2012:<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4284855" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4284855</a></p><p style="margin:0px;">2008 R2:<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4284826" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4284826</a></p><p style="margin:0px;">2008 SP2:<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4056564/security-update-for-vulnerabilities-in-windows-server-2008" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4056564<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#7</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-7" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">Smart Card Logon + remote (RDP) smart card logon fails due to test signed basecsp.dll in KB4093227</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">2008 SP2</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Users are unable to use a Smart Card to logon to Windows Server 2008 SP2 after installing KB4093227 (2018.4B).<br>When the logon fails, Smart Card Logon Event 5 is logged in the Application Event log: &quot;An error occurred while retrieving a digital certificate from the inserted smart card. Invalid Signature.&quot;</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">The following operations fail on Windows Server 2008 SP2 computers after installing &quot;4B&quot;<span>&nbsp;</span><a href="https://internal.support.services.microsoft.com/en-us/help/4093227/security-update-for-vulnerabilities-in-windows-server-2008" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4093227</a><span>&nbsp;</span>to the installed of an incorrectly signed basecsp.dll file.<br>Smart Card logons fail with error &quot;“No valid certificates found. Check that the card is inserted correctly and fits tightly”<br>Remote Smart card logons fail with &quot;No valid certificates found. Check that the card is inserted correctly and fits tightly”&quot;</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">https://microsoft.visualstudio.com/OS/_workitems?id=17412915​</p><p style="margin:0px;"><a href="https://microsoft.visualstudio.com/OS/_workitems?id=17629715" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=17629715</a>​​</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Fixed in a 2018.06&nbsp;B&nbsp;re-release of<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4093227/security-update-for-vulnerabilities-in-windows-server-2008" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4093227<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#6</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-6" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">User RDP session stuck at Welcome screen &amp; All RDSH Servers are throwing an error &quot;Remote Desktop Service is currently busy&quot; on console login</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">2012 R2, 1607</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Session host is going into a hung state and needs reboot to fix the issue.<br>When users try to RDP to the server, the sessions&nbsp;get stuck at the Welcome screen.<br>In the console session it gives an error: &quot;The task you are trying to do can't be completed because Remote Desktop Service is currently busy. Please try again in a few minutes. Other users should still be able to log on.&quot;</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;"><a href="https://internal.support.services.microsoft.com/en-us/help/4132394" style="color:rgb(0, 120, 212);text-decoration:underline;">https://internal.support.services.microsoft.com/en-us/help/4132394</a></p><p style="margin:0px;"><br></p><p style="margin:0px;">Dumps revealed that PDEV SURFACE objects are leaked and code inspection found that PDEV SURFACEs are leaked due to PDEV reference count leak that's causing a delayed delete of the PDEV.<br>• The leak of PDEV SURFACE is occurring due to the nature of NTGDI cleanup code.<br>• GDI objects have their share count references set to zero before PDEV objects are cleaned-up. At the time of PDEV cleanup, SURFACE will be decremented by 1 causing the share count to become -1.<br><br>Similar issue documented by Travis Adams (Citrix PicaDD.sys driver involved):<span>&nbsp;</span><a href="https://internal.support.services.microsoft.com/en-us/help/4131433" style="color:rgb(0, 120, 212);text-decoration:underline;">https://internal.support.services.microsoft.com/en-us/help/4131433</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Install the&nbsp;April 2018&nbsp;patch<span>&nbsp;</span><a href="https://support.microsoft.com/en-in/help/4093114" style="color:rgb(0, 120, 212);text-decoration:underline;">https://support.microsoft.com/en-in/help/4093114</a><span>&nbsp;</span>to resolve the issue.<br></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#5</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-5" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">RDP black screen since waiting in rdpudd!DDWaitForUpdateBufferAvailable</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">8.0, 8.1, 2012 R2, 1507</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">After launching multiple applications inside an RDP session, the administrator will disconnect the session and then RDP back later several times to interact with these applications.<br>The RDP session will just show a black screen sometimes while reconnect back to the original session. The admin has to logoff the problem session on server console and this causes the applications to stop.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">8.0:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=16650266" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=16650266​</a><br>8.1:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=16650292" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=16650292​</a><br>2012 R2:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=16449582" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=16449582​</a></p><p style="margin:0px;">1507:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=16650322" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=16650322​</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">8.0:&nbsp;Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4103719" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4103719</a><br>8.1:&nbsp;Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4103724" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4103724</a><br>2012 R2:&nbsp;Fixed in&nbsp;<a href="https://support.microsoft.com/en-us/help/4284863" style="color:rgb(0, 120, 212);text-decoration:underline;">KB​4284863</a></p><p style="margin:0px;">1507:&nbsp;Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4284860" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4284860<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#4</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-4" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">Handle Leak and SCardEstablishContext returning SCARD_E_NO_SERVICE after applying (1C/2B Update)</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">2008 SP2, 2012, 2012 R2, 1607</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Smartcards are used for logon.<br>Since installation of 1C/2B updates, customers see problems with Smartcard logon and also total hang of RDS.<br>Software that calls WTS-API WTSEnumerateSessions() suddenly fails with Access Denied due to handle leak in LSM.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Reboot the affected server.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">2008 SP2:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=16055145" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=16055145​</a><br>2012:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=16638967" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=16638967​</a><br>2012 R2:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=16638988" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=16638988​</a><br>1607:<span>&nbsp;</span><a href="https://microsoft.visualstudio.com/OS/_workitems?id=16639017" style="color:rgb(0, 120, 212);text-decoration:underline;">https://microsoft.visualstudio.com/OS/_workitems?id=16639017​</a></p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">2008 SP2 - Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4090928/scard-e-no-service-errors-when-windows-leaks-handles-in-the-lsm-exe" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4090928</a><br>2012 R2 - Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4103724/windows-81-update-kb4103724" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4103724</a><br>1607 - Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4103720/windows-10-update-kb4103720" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4103720<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#3</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-3" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">CredSSP \ RDP connections fail with 'An authentication error has occurred' after installing May 8th &quot;5B&quot; KBs with CVE-2018-0886</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Any Windows OS starting with Windows Vista SP2 and Server 2008 SP2</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">RDP connections fail with &quot;An authentication error has occurred. The function requested is not supported.&quot; and &quot;This could be due to CredSSP encryption oracle remediation.&quot;&nbsp;</p><p style="margin:0px;">This happens if at least the May 8th, 2018 update has been installed on the client device, while the server/target device is unpatched (does not have at least the March 13th, 2018 update).</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">- Either patch the servers too (recommended!)<br>- Or set the policy on the clients back to “Vulnerable” until all servers are patched (but this makes the connection vulnerable again!)<br>- Or do not use CredSSP (NLA) for RDP until all servers are patched, by setting the security layer on the servers to RDP and NLA also to not enforced (less secure and may raise other security concerns)</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">CredSSP is an authentication provider which processes authentication requests for other applications.<br><br>March 13th 2018 &quot;3B&quot; and subsequent updates addressed an exploit where an attacker could relay user credentials to execute code on the target system by adding support for Encryption Oracle Remediation policy setting.&nbsp;<br>The May 8th, 2018 update changed the default value for &quot;Encryption Oracle Remediation&quot; from &quot;Vulnerable&quot; to &quot;Mitigated&quot;.<br><br>​The interoperability matrix in the March 13th KB clearly notes &quot;blocked&quot; configurations including that &quot;Mitigated&quot; clients talking to unpatched servers results in a blocked configuration.&nbsp;<br>That configuration and any other &quot;blocked&quot; configuration results in CredSSP failures.&nbsp;<br>​</p><p style="margin:0px;">Note: RDP may also fail if the client has the March Update and the May Update was installed on the target machine but the target machine was not rebooted yet. Make sure that the target machine is rebooted after the update installation.<br><br></p><p style="margin:0px;">The release of CredSSP hardening changes are documented in external<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4093492/credssp-updates-for-cve-2018-0886-march-13-2018" style="color:rgb(0, 120, 212);text-decoration:underline;">KB 4093492: CredSSP updates for CVE-2018-0886</a><br>To learn more about the vulnerability, see<span>&nbsp;</span><a href="https://portal.msrc.microsoft.com/en-us/security-guidance/advisory/CVE-2018-0886" style="color:rgb(0, 120, 212);text-decoration:underline;">CVE-2018-0886</a>.<br><br>Servicing: 3B.18: CredSSP hardening changes may cause CredSSP | RDP connection failures<br><a href="https://internal.support.services.microsoft.com/en-us/help/4094186" style="color:rgb(0, 120, 212);text-decoration:underline;">https://internal.support.services.microsoft.com/en-us/help/4094186​</a>​<br><br>​Servicing: 5B.18 CredSSP \ RDP connections fail with 'An authentication Error has occured' after installing May 8th &quot;5B&quot; KBs with CVE-2018-0886<br><a href="https://internal.support.services.microsoft.com/en-us/help/4294341" style="color:rgb(0, 120, 212);text-decoration:underline;">https://internal.support.services.microsoft.com/en-us/help/4294341</a><br><br>After May 2018 security update: RDP &quot;An authentication error occurred&quot; &quot;This could be due to CredSSP encryption oracle remediation&quot;.<br><a href="https://blogs.technet.microsoft.com/yongrhee/2018/05/09/after-may-2018-security-update-rdp-an-authentication-error-occurred-this-could-be-due-to-credssp-encryption-oracle-remediation/" style="color:rgb(0, 120, 212);text-decoration:underline;">https://blogs.technet.microsoft.com/yongrhee/2018/05/09/after-may-2018-security-update-rdp-an-authentication-error-occurred-this-could-be-due-to-credssp-encryption-oracle-remediation/</a><br><br>CredSSP, RDP and Raven<br><a href="https://blogs.technet.microsoft.com/askpfeplat/2018/05/07/credssp-rdp-and-raven/" style="color:rgb(0, 120, 212);text-decoration:underline;">https://blogs.technet.microsoft.com/askpfeplat/2018/05/07/credssp-rdp-and-raven/</a>&nbsp;</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">By default, after the May 8th, 2018 update is installed, patched clients cannot communicate with unpatched servers. Use the interoperability matrix and group policy settings described in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4093492/credssp-updates-for-cve-2018-0886-march-13-2018" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4093492</a><span>&nbsp;</span>to enable an “allowed” configuration.<br></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#2</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-2" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table title="Table" style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">Instantiate IRDPSRAPISharingSession fails with &quot;Class not registered&quot; 0x80040154 with mandatory user profile</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1709</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Since Windows 10 Build 1709 it's no longer possible to create an instance of the RDPSEssion COM Object if the user which creates the instance is assigned a mandatory profile. The function fails with the error code &quot;Class not registered (0x80040154)&quot;</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">-</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">The creation of a RDPSession COM object on a Windows 1709 machine fails with error 0x80040154 (class not registered) if a user has a mandatory userprofile.<br>Interface documentation:<span>&nbsp;</span><a href="https://msdn.microsoft.com/de-de/library/windows/desktop/mt446078.aspx" style="color:rgb(0, 120, 212);text-decoration:underline;">https://msdn.microsoft.com/de-de/library/windows/desktop/mt446078.aspx​</a>​</p><p style="margin:0px;">​</p><p style="margin:0px;">​Mini snippet:</p><p style="margin:0px;"><br></p><p style="margin:0px 0px 0px 40px;">// Win32Project1.cpp : Defines the entry point for the console application.<br>//<br><br>#include &quot;stdafx.h&quot;<br>#include<br>#include<br><br>int main()<br>{<br>HRESULT hr = CoInitialize(NULL);<br>if (SUCCEEDED(hr))<br>{<br>_tprintf(_T(&quot;CoInitialize succeeds\n&quot;));<br><br>IRDPSRAPISharingSession* pSharingSession = NULL;<br>HRESULT hr = CoCreateInstance(__uuidof(RDPSession), NULL, CLSCTX_ALL, __uuidof(IRDPSRAPISharingSession), reinterpret_cast(&amp;pSharingSession));<br>if (SUCCEEDED(hr)) {<br>_tprintf(_T(&quot;CoCreateInstance(RDPSession) succeeds\n&quot;));<br>pSharingSession-&gt;Release();<br>pSharingSession = NULL;<br>}<br>else {<br>_tprintf(_T(&quot;CoCreateInstance(RDPSession) failed: 0x%X\n&quot;), hr);<br>}<br><br>CoUninitialize();<br>}<br>else {<br>_tprintf(_T(&quot;CoInitialize failed: 0x%X\n&quot;), hr);<br>}<br>return 0;<br>}​</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">https://microsoft.visualstudio.com/OS/_workitems?id=15601347​</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Fixed in<span>&nbsp;</span><a href="https://support.microsoft.com/en-us/help/4338817" style="color:rgb(0, 120, 212);text-decoration:underline;">KB4338817​<br></a></p></td></tr></tbody></table></div></div></div></div></div><div></div></div><div style="margin-top:24px;margin-bottom:24px;padding:8px;color:rgb(50, 49, 48);opacity:1;"><div style="overflow:hidden;margin-bottom:-16px;"><div style="cursor:text;margin:0px;padding:0px 2px;text-align:left;"><h2 style="margin:0px 0px 16px;font-weight:100 !important;font-size:28px;"><span style="font-size:15px;"><b>SC#1</b></span><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx#sc-1" style="opacity:0;text-decoration:underline;outline:0px;color:rgb(0, 120, 212);margin-left:5px;"><i style="font-weight:400;speak:none;font-family:FabricMDL2Icons-0;display:inline-block;font-size:16px;padding:3px;"></i></a></h2><div style="margin:0px 0px 16px;font-size:17px;font-weight:300;overflow-x:auto;clear:both;"><div style="margin:0px;display:block;"><table style="border-style:solid;border-collapse:collapse;border-color:rgb(50, 49, 48) !important;border-width:1px !important;margin-bottom:10px;"><tbody><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px 1px 3px !important;"><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:129px;">Issue</td><td style="font-size:15px;font-weight:700;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:985px;">RDP connections to RDS servers fail when the RDS tries to retrieve user details using remote SAM RPC calls​</td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">OS version(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1607</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Symptoms</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">1) Admin tools, scripts and software that formerly enumerated users, groups and group membership may fail on MSRC 31343 / 34200-enabled computers including</p><p style="margin:0px 0px 0px 40px;">Windows 10 RS1</p><p style="margin:0px 0px 0px 40px;">Windows Server 2016</p><p style="margin:0px 0px 0px 40px;">In-Market clients and servers that install backport fixes of MSRC 31343 (i.e. MSRC 34200)</p><p style="margin:0px 0px 0px 40px;"><br></p><p style="margin:0px;">2) RDP connections to RDS Servers fail when the RDS tries to retrieve user details using remote SAM RPC calls ( e.g. RDS environment, profile path) from a Windows Server 2016 domain controller.<br>3) Applications that use AuthZ against accounts that are disabled can run into Access Denied Errors.</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Workaround(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">For symptom 2) you can use the IgnoreRegUserConfigErrors = 1 reg key:</p><p style="margin:0px;">Registry Path: HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server<br>Data Type: DWORD<br>Setting + Value: IgnoreRegUserConfigErrors = 1</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Additional info</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;"><a href="https://internal.support.services.microsoft.com/en-us/help/3186112" target="_blank" style="color:rgb(0, 120, 212);text-decoration:underline;">https://internal.support.services.microsoft.com/en-us/help/3186112</a></p><p style="margin:0px;">This issue is only occurring when the customer enforces the RestrictRemoteSam setting on their DCs.</p><p style="margin:0px;"><br></p><p style="margin:0px;">https://internal.support.services.microsoft.com/en-us/help/4053040​​</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Bug(s)</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">https://microsoft.visua​lstudio.com/OS/_workitems?id=14540982​</p></td></tr><tr style="border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;"><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">Status</p></td><td style="font-size:15px;font-weight:400;border-style:solid;border-collapse:collapse;border-color:rgb(0, 120, 212) !important;border-width:1px !important;margin:0px;padding:8px 16px 8px 8px;width:75px;"><p style="margin:0px;">​​Won't fix.<br>See workarounds and recommendations from the internal&nbsp;KB3186112 and KB4053040 listed above.​​​<br></p></td></tr></tbody></table></div></div></div></div></div><br></div><div></div><div><span style="color:rgb(255, 0, 0);font-family:&quot;Segoe UI&quot;, Segoe, Tahoma, Helvetica, Arial, sans-serif;font-size:13px;font-style:normal;font-weight:400;letter-spacing:normal;orphans:2;text-align:start;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;background-color:rgba(255, 255, 255, 0.85);display:inline !important;"></span></div><div><span style="color:rgb(255, 0, 0);font-family:&quot;Segoe UI&quot;, Segoe, Tahoma, Helvetica, Arial, sans-serif;font-size:13px;font-style:normal;font-weight:400;letter-spacing:normal;orphans:2;text-align:start;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;background-color:rgba(255, 255, 255, 0.85);display:inline !important;"></span></div></div><div><div><a href="https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx">https://microsofteur.sharepoint.com/teams/css-rds/SitePages/known-issues-sesscon.aspx</a><br></div><div><br></div><div><a href="https://aka.ms/css-rds">https://aka.ms/css-rds</a>&nbsp;</div></div>