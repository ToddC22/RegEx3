<header><h1>SharePoint: Authentication settings in Central Administration do not match the configuration in web.config</h1></header><div class='kb-symptoms-section section'>Users are not able to authenticate to a SharePoint site and receive an &#39;Access Denied&#39; error.</div><div class='kb-cause-section section'>The authentication settings for a SharePoint site need to be aligned with the settings in the web.config for the site to work correctly. SharePoint can be configured for Windows or Claims authentication. If you are using Claims authentication (Windows claims, Forms authentication or a Trusted Identity provider), the application will be configured for Forms authentication in the web.config, along with ensuring that Anonymous Authentication and Forms Authentication are enabled in IIS configuration. Conversely; if you are using classic Windows authentication then the application will be configured for Windows along with Windows Authentication being enabled in the IIS application settings.&#160;<br><br>These settings are configured when you make the appropriate selections during creation or configuration of the SharePoint web application, but can become out of sync. If there is a mismatch between the web.config and the settings in SharePoint, then the application will fail to authenticate and users are likely receive an &#39;Access Denied&#39; error message. </div><div class='kb-resolution-section section'><ol class='sbody-num_list'><li>Ensure that the web.config contains the appropriate configuration information when compared to the web applications settings.</li><li>Check the web application settings:<ul class='sbody-free_list'><li>Navigate to Central Administration - Application Management - Manage web applications.</li><li>Select the web application in question</li><li>Click on the &#39;Authentication Providers&#39; link from the ribbon</li><li>Choose the appropriate zone for the web application</li><li>The dialog box will display the type of membership provider (Windows or Claims-Based Authentication). </li><li>Record the name of membership provider for the specific zone in the &#39;Authentication Provider&#39; dialog box.<br></li></ul></li><li>Locate the web.config file for the&#160;web application:</li><li>Typically the web.config file is stored at&#160;<span class='sbody-italic'>C:\inetpub\wwwroot\wss\VirtualDirectories\Port_Number </span></li><li>Verify the following section in the web.config file<div class='sbody-code'><pre><code>&lt;configuration&gt;<br>    &lt;system.web&gt;<br>      &lt;authentication mode=&quot;&quot; /&gt;<br>   &lt;/system.web&gt;<br>&lt;/configuration&gt;</code></pre></div></li><li>If the membership provider name is Windows, then authentication mode should be set to &quot;Windows&quot;.</li><li>If the membership provider is Claims-based authentication, then the authentication mode should be set to &quot;Forms&quot;. </li></ol></div><div class='kb-moreinformation-section section'>For more information about authentication methods and authentication modes that are supported by Microsoft SharePoint Server 2010, please visit<br><a id='kb-link-1' href='http://technet.microsoft.com/en-us/library/cc262350.aspx' target='_self'>Plan authentication methods (SharePoint Server 2010)</a></div><div class='kb-securedata-section section'>Steps to reproduce: <br>Product Bug Number:<br><br>Author ID (email alias): danavan<br>Writer ID (email alias): danavan<br>Tech Review ID (email alias): ctrshrpt, spskbpre<br>Confirm Article has been Tech Reviewed: Yes<br>Confirm Article released for Publishing: Yes </div>