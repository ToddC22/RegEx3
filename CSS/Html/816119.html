<header><h1>HOW TO: Use the Secedit.sdb Database to Perform a Security Analysis in Windows Server 2003</h1></header><div class='kb-notice-section section'>For a Microsoft Windows 2000 version of this article, see <a id='kb-link-1' href='/default.aspx?scid=kb;en-us;318711' target='_self'>Q318711</a></div><div class='kb-notice-section section'>BUG #: <a href='http://bugcheck/bugs/ContentMaintenance/5417.asp' title='Link only available for Microsoft corporate network users' target='_blank'>5417 (Content Maintenance)</a></div><div class='kb-notice-section section'><a class='bookmark' id='toc'></a><h3 class='sbody-h3'>IN THIS TASK</h3><ul class='sbody-free_list'><li><a managed-link="" href='#1' target="" bookmark-id='1'>SUMMARY</a><ul class='sbody-free_list'><li><a managed-link="" href='#2' target="" bookmark-id='2'>How to Start the Security Configuration and Analysis Snap-In</a></li><li><a managed-link="" href='#3' target="" bookmark-id='3'>How to Perform the Security Analysis</a></li><li><a managed-link="" href='#4' target="" bookmark-id='4'>How to View the Results</a></li></ul></li><li><a managed-link="" href='#7' target="" bookmark-id='7'>REFERENCES</a></li></ul></div><div class='kb-summary-section section'><a class='bookmark' id='1'></a><h3 class='sbody-h3'>SUMMARY</h3>This step-by-step article describes how to use the Secedit.sdb database to analyze your security settings. This analysis can identify security holes that may exist in your current configuration, and can also identify changes that will occur if you use a security template to configure your computer.<br><br>You can analyze your current settings against a baseline template at any time. This analysis is useful for several reasons: <br><ul class='sbody-free_list'><li>To identify security holes that may exist in a current configuration.</li><li>To identify the changes that a security policy may make before you actually deploy the security policy.</li><li>To identify deviations from a policy that is currently imposed on a computer.</li></ul><br><br><a managed-link="" href='#toc' target="" bookmark-id='toc'>back to the top</a><br><a class='bookmark' id='2'></a><h3 class='sbody-h3'>How to Start the Security Configuration and Analysis Snap-In</h3><ol class='sbody-num_list'><li>Click <strong class='uiterm'>Start</strong>, click <strong class='uiterm'>Run</strong>, type <span class='sbody-userinput'>mmc</span> in the <strong class='uiterm'>Open</strong> box, and then click <strong class='uiterm'>OK</strong>.</li><li>On the <strong class='uiterm'>Console</strong> menu, click <strong class='uiterm'>File</strong>, click <strong class='uiterm'>Add\Remove Snap-in</strong>, and then click <strong class='uiterm'>Add</strong>.</li><li>In the list of available stand-alone snap-ins, click <strong class='uiterm'>Security Configuration and Analysis</strong>, and then click <strong class='uiterm'>Add</strong>.</li><li>In the list of available stand-alone snap-ins, click <strong class='uiterm'>Security Templates</strong>, and then click <strong class='uiterm'>Add</strong>.</li><li>Click <strong class='uiterm'>Close</strong>, and then click <strong class='uiterm'>OK</strong>.</li></ol><br><br><a managed-link="" href='#toc' target="" bookmark-id='toc'>back to the top</a><br><a class='bookmark' id='3'></a><h3 class='sbody-h3'>How to Perform the Security Analysis</h3> <br><br><br>You can use the Secedit.sdb database to compare local security settings against Group Policy settings that are downloaded from a domain: <br><br><br><ol class='sbody-num_list'><li>Start Windows Explorer, and then open the WINDOWS\Security\Database folder.</li><li>Make a copy of the Secedit.sdb database. <br><br>That database contains local security settings.</li><li>Quit Windows Explorer, and then switch to the Microsoft Management Console (MMC) window.</li><li>Right-click <strong class='uiterm'>Security Configuration and Analysis</strong>, and then click <strong class='uiterm'>Open Database</strong>.</li><li>Click the copy of the Secedit.sdb file that you created in the WINDOWS\Security\Database folder, and then click <strong class='uiterm'>Open</strong>. <br><br>Note that you receive an error message if you try to load the original Secedit.sdb file.</li><li>Right-click <strong class='uiterm'>Security Configuration and Analysis</strong>, and then click <br><strong class='uiterm'>Analyze Computer Now</strong>.</li><li>In the <strong class='uiterm'>Error log file path</strong> box, type <span class='sbody-userinput'>C:\WINDOWS\Security\Logs\Mysecure.log</span>. <br><br><br><span class='text-base'>NOTE</span>: If Windows Server 2003 is installed in a folder other than the C:\WINDOWS folder, modify the path that you type to match your installation.</li><li>Click <strong class='uiterm'>OK</strong>. After the analysis is complete, the security areas are available under the <strong class='uiterm'>Security Configuration and Analysis</strong> node.</li></ol><br><br><a managed-link="" href='#toc' target="" bookmark-id='toc'>back to the top</a><br><a class='bookmark' id='4'></a><h3 class='sbody-h3'>How to View the Results</h3><ol class='sbody-num_list'><li>In the left pane, expand the <strong class='uiterm'>Security Configuration and Analysis</strong> node.</li><li>Click the Description bar to expose the database with which you are working. If the Description bar is not visible, click <strong class='uiterm'>Customize</strong> on the <strong class='uiterm'>View</strong> menu, and then click to select the <strong class='uiterm'>Description bar</strong> check box.</li><li>Expand the <strong class='uiterm'>Local Policies</strong> node, and then click <strong class='uiterm'> Security Options</strong> . <br><br><br> <br>Notice that both the database setting and the actual system setting are displayed in the right pane for each object. <br><br><ul class='sbody-free_list'><li>Differences are marked with a red flag. </li><li>Consistencies are marked with a green check mark. </li><li>If there is no flag or check mark, the security setting is not specified in the security database.</li></ul><br><br> <br>You can double-click any setting to investigate differences. <br></li></ol><br><br><a managed-link="" href='#toc' target="" bookmark-id='toc'>back to the top</a><br></div><div class='kb-securedata-section section'>Author: DAVIDGAZ<br>Writer: V-WALTR<br>Tech Reviewer: v-shtown <br>Edit Reviewer: v-dianag</div>