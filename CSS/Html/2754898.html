<header><h1>Outlook Exchange Proxy Settings dialog box always displays the internal host name as the Proxy server in an Exchange Server environment</h1></header><div class='kb-securedata-section section'>CI 345 BUG #: <a href='http://bugcheck/bugs/ContentMaintenance/178125.asp' title='Link only available for Microsoft corporate network users' target='_blank'>178125 (Content Maintenance)</a>BUG #: <a href='http://bugcheck/bugs/Exchange15/3161981.asp' title='Link only available for Microsoft corporate network users' target='_blank'>3161981 (Exchange15)</a></div><div class='kb-symptoms-section section'>Assume that you use Outlook Anywhere to connect to a Microsoft Exchange Server&#160;mailbox from an internal or external network. In this situation, the internal host name of Outlook Anywhere is always displayed as the proxy server for Exchange in the Microsoft Exchange Proxy Settings dialog box in Microsoft Outlook. Additionally, the Internal Authentication settings are always displayed in the Exchange Proxy Settings dialog box.<br><br>For example, you configure the Outlook Anywhere settings in Exchange Server. The external host name is set to &quot;mail.contoso.com&quot; and the internal host name is set to &quot;internal.contoso.com.&quot;<br><img class="graphic" src="/Library/Images/2777847.jpg" alt="Screenshot for showing the settings at the command line. " title="Screenshot for showing the settings at the command line. "><br>However, the Microsoft Exchange Proxy Settings dialog  box in Outlook always displays the internal host name as the proxy server, even if you connect from an external network.<br><img class="graphic" src="/Library/Images/2777848.png" alt="Screenshot for showing the settings in the Microsoft Exchange Proxy Settings dialog box  " title="Screenshot for showing the settings in the Microsoft Exchange Proxy Settings dialog box  "><br></div><div class='kb-cause-section section'>This behavior is by design. Outlook always displays the internal host name as the proxy server, regardless of where the client connects from. However, Outlook always uses the best settings to connect to user’s mailbox in the background.&#160;<br><br></div><div class='kb-moreinformation-section section'>Starting with Exchange Server 2013, the&#160;<span class='text-base'>InternalHostname </span>property was included in Outlook Anywhere. When you use Outlook Anywhere to connect to Exchange Server, Outlook first uses the internal host name. However, when Outlook cannot connect to Exchange Server by using the internal host name, Outlook uses the external host name instead of the internal host name.<br><br>To identify which URL Outlook Anywhere uses to connect to Exchange Server, follow these steps:&#160;<ol class='sbody-num_list'><li>Press and hold Ctrl, and then right-click the Outlook icon in the notification area. </li><li>Click <span class='text-base'>Connection Status</span>.</li></ol></div><div class='kb-securedata-section section'><br>Author: <span class='text-base'>batre </span><br>Writer: <span class='text-base'>genli </span><br>Tech Reviewer: <span class='text-base'>batre </span><br>Editor: <span class='text-base'>v-jonwoo</span></div>