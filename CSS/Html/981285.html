<header><h1>High CPU usage or irregular behavior occurs in virtual machines that are running in Windows Virtual PC</h1></header><div class='kb-notice-section section'>BUG #: <a href='http://bugcheck/bugs/ContentMaintenance/127764.asp' title='Link only available for Microsoft corporate network users' target='_blank'>127764 (Content Maintenance)</a></div><div class='kb-symptoms-section section'>When you run a virtual machine in Windows Virtual PC, you may encounter the following behavior on certain hardware platforms, such as notebooks:<br><ul class='sbody-free_list'><li>You experience high CPU usage in the guest operating system. However, when you examine Task Manager, no CPU usage issues are displayed in the host operating system.</li><li>Keystrokes in the guest operating system are delayed.<br></li></ul></div><div class='kb-cause-section section'>This issue occurs because of the advanced power saving features that are built into the hardware of some notebooks. </div><div class='kb-resolution-section section'>To resolve this issue,   use one of the following methods:<h4 class='sbody-h4'>Method 1</h4><ol class='sbody-num_list'><li> Shut down all the virtual machines that are running on the computer.</li><li>Start Notepad, and then click <strong class='uiterm'>Open</strong> on the <strong class='uiterm'>File</strong> menu.<br></li><li> In the <strong class='uiterm'>Open</strong> dialog box, type <span class='sbody-userinput'>%localappdata%\Microsoft\Windows Virtual PC\Options.xml</span> in the <strong class='uiterm'>File</strong> name box, and then click <strong class='uiterm'>Open</strong>.</li><li> Replace <strong class='uiterm'>&lt;mm_timer_duration type=&quot;integer&quot;&gt;10&lt;/mm_timer_duration&gt;</strong> with <strong class='uiterm'>&lt;mm_timer_duration type=&quot;integer&quot;&gt;1&lt;/mm_timer_duration&gt;</strong>.<br></li><li> In Notepad, click <strong class='uiterm'>Save</strong> on the <strong class='uiterm'>File</strong> menu, and then close Notepad.<br></li><li> Open the <strong class='uiterm'>Power Options</strong> item in Control Panel, and then make sure that the current power plan is set to <strong class='uiterm'>Balanced</strong> or <strong class='uiterm'>High Performance</strong>.</li><li>Start the virtual machine. <br></li></ol><h4 class='sbody-h4'>Method 2</h4><ol class='sbody-num_list'><li> Shut down all the virtual machines that are running on the computer.</li><li>Start Notepad, and then click <strong class='uiterm'>Open</strong> on the <strong class='uiterm'>File</strong> menu.<br></li><li> In the <strong class='uiterm'>Open</strong> dialog box, type <span class='sbody-userinput'>%localappdata%\Microsoft\Windows Virtual PC\Options.xml</span> in the <strong class='uiterm'>File</strong> name box, and then click <strong class='uiterm'>Open</strong>.</li><li>Under the <strong class='uiterm'>&lt;virtual_machines&gt;</strong> tag, add the following line:<br><div class='indent'><span class='sbody-userinput'>&lt;enable_idle_thread type=&quot;boolean&quot;&gt;true&lt;/enable_idle_thread&gt;</span></div></li><li> In Notepad, click <strong class='uiterm'>Save</strong> on the <strong class='uiterm'>File</strong> menu, and then close Notepad.<br></li><li> Open the <strong class='uiterm'>Power Options</strong> item in Control Panel, and then make sure that the current power plan is set to <strong class='uiterm'>Balanced</strong> or <strong class='uiterm'>High Performance</strong>.</li><li>Start the virtual machine.<br><br><span class='text-base'>Note</span>  This method enables Windows Virtual PC to fully use the processor and  prevent the system from entering a low power state. For multicore systems, one core is used. <br></li></ol><h4 class='sbody-h4'>Method 3</h4><ol class='sbody-num_list'><li>Disable the <strong class='uiterm'>Advanced Power Management</strong> options in the system’s BIOS. <div class='indent'><span class='text-base'>Note</span> For more information about how to do this, contact your computer manufacturer. </div></li><li> Open the <strong class='uiterm'>Power Options</strong> item in Control Panel, and then make sure that the current power plan is set to <strong class='uiterm'>High Performance</strong>.</li></ol></div><div class='kb-securedata-section section'><span class='text-base'>Author: robhef </span><br><span class='text-base'>Writer: qianyu</span><br><span class='text-base'>Tech Reviewer: dewitth;jeffpatt;robhef;ptsmevir</span><br><span class='text-base'>Editor: v-edcork</span></div>