<header><h1>How to Use Dsacls.exe in Windows Server 2003 and Windows 2000</h1></header><div class='kb-notice-section section'><h3 class='sbody-h3'>IN THIS TASK</h3><a class='bookmark' id='toc'></a><ul class='sbody-free_list'><li><span class='text-base'><a managed-link="" href='#1' target="" bookmark-id='1'>SUMMARY</a></span><ul class='sbody-free_list'><li><a managed-link="" href='#2' target="" bookmark-id='2'>Overview of  Dsacls.exe</a></li><li><a managed-link="" href='#3' target="" bookmark-id='3'><permissions>  Syntax</permissions></a><ul class='sbody-free_list'><li><a managed-link="" href='#4' target="" bookmark-id='4'> Examples of <permissions></permissions></a></li></ul></li></ul></li><li><span class='text-base'><a managed-link="" href='#5' target="" bookmark-id='5'>REFERENCES</a></span></li></ul></div><div class='kb-summary-section section'><a class='bookmark' id='1'></a>This article describes how to use the Dsacls.exe tool (Dsacls.exe) to manage access control lists (ACLs) for directory services in Microsoft Windows Server 2003 and Microsoft Windows 2000 Server. Dsacls.exe is a command-line tool that you can use to query the security attributes and to change permissions and security attributes of Active Directory objects. It is the command-line equivalent of the <strong class='uiterm'>Security</strong> tab in the Windows Active Directory snap-in tools such as Active Directory Users and Computers and Active Directory Sites and Services.<br><br>Dsacls.exe is included with the Windows Support Tools. To install the Support Tools, run Setup.exe from the Support\Tools folder on the Windows Server 2003 or Windows  2000 Server CD-ROM. <br><br>You can use Dsacls.exe and another Windows Support Tool, ACL Diagnostics (Acldiag.exe), to provide security configuration and diagnosis functionality on Active Directory objects from the command prompt.<br><br><span class='text-base'>Note</span> You can use Dsacls.exe to display and change permissions (access control entries) in the access control list (ACL) of objects in Active Directory Application Mode (ADAM) in Windows Server 2003.<br><br><span class='text-base'>Important</span>  Do not use Dsacls.exe to modify permissions if you have implemented a Hosting solution such as Windows-based Hosting, High Volume Exchange (HVE), Hosted Messaging and Collaboration, or Hosted Exchange, or if the customer is using Microsoft Provisioning Service. The Hosting solutions depend on specific security model to isolate the ISP&#39;s customers from each other.<br><br><br><a managed-link="" href='#toc' target="" bookmark-id='toc'>back to the top</a><a class='bookmark' id='2'></a><h3 class='sbody-h3'>Overview of Dsacls.exe<br><a class='bookmark' id='1'></a></h3>DsAcls uses the following syntax:<div class='indent'>dsacls <strong class='sbody-strong'>object</strong> [/a] [/d {<strong class='sbody-strong'>user</strong> | <strong class='sbody-strong'>group</strong>}:<strong class='sbody-strong'>permissions</strong> [...]] [/g {<strong class='sbody-strong'>user</strong> | <strong class='sbody-strong'>group</strong>}:<strong class='sbody-strong'>permissions</strong> [...]] [/i:{p | s | t}] [/n] [/p:{y | n}] [/r {<strong class='sbody-strong'>user</strong> | <strong class='sbody-strong'>group</strong>} [...]] [/s [/t]] </div>You can use the following parameters with Dsacls.exe: <ul class='sbody-free_list'><li><span class='text-base'><strong class='sbody-strong'>object</strong></span>: This is the path to the directory services object on which to display or change the ACLs. This path must be a distinguished name (also known as RFC 1779 or x.500 format). For example:<div class='indent'><span class='text-base'>CN=Someone,OU=Software,OU=Engineering,DC=Microsoft,DC=Com</span></div>To specify a server, add <span class='text-base'><strong class='sbody-strong'>\\Servername\</strong></span> before the object. For example:<div class='indent'><span class='text-base'>\\MyServer\CN=Someone,OU=Software,OU=Engineering,DC=Microsoft,DC=Com</span></div>When you run the <span class='text-base'>dsacls</span> command with only the <strong class='sbody-strong'><span class='text-base'>object</span></strong> parameter (<span class='text-base'>dsacls <strong class='sbody-strong'>object</strong></span>), the security information about the object is displayed.</li><li><span class='text-base'>/a <br></span>: Use this parameter to display the ownership and auditing information with the permissions. </li><li><span class='text-base'>/d</span> {<strong class='sbody-strong'><span class='text-base'>user</span></strong> | <strong class='sbody-strong'><span class='text-base'>group</span>}</strong>:<strong class='sbody-strong'><span class='text-base'>permissions</span></strong>: Use this parameter to deny specified permissions to a user or group. <strong class='sbody-strong'><span class='text-base'>User</span></strong> must use either <strong class='sbody-strong'>user</strong>@<strong class='sbody-strong'>domain</strong> or <strong class='sbody-strong'>domain</strong>\<strong class='sbody-strong'>user</strong> format, and <strong class='sbody-strong'><span class='text-base'>group</span></strong> must use either <strong class='sbody-strong'>group</strong>@<strong class='sbody-strong'>domain</strong> or <strong class='sbody-strong'>domain</strong>\<strong class='sbody-strong'>group</strong> format. You can specify more than one user or group in a command. For more information about the correct syntax to use for <strong class='sbody-strong'><span class='text-base'>permissions</span></strong>, see the <a managed-link="" href='#3' target="" bookmark-id='3'><permissions> Syntax</permissions></a> section later in this article.<br></li><li><span class='text-base'>/g</span> {<strong class='sbody-strong'><span class='text-base'>user</span></strong> | <strong class='sbody-strong'><span class='text-base'>group</span></strong>}:<strong class='sbody-strong'><span class='text-base'>permissions</span></strong>: Use this parameter to grant specified permissions to a user or group. <strong class='sbody-strong'><span class='text-base'>User</span></strong> must use either <strong class='sbody-strong'>user</strong>@<strong class='sbody-strong'>domain</strong> or <strong class='sbody-strong'>domain</strong>\<strong class='sbody-strong'>user</strong> format, and <strong class='sbody-strong'><span class='text-base'>group</span></strong> must use either <strong class='sbody-strong'>group</strong>@<strong class='sbody-strong'>domain</strong> or <strong class='sbody-strong'>domain</strong>\<strong class='sbody-strong'>group</strong> format. You can specify more than one user or group in a command. For more information about the correct syntax to use for <strong class='sbody-strong'><span class='text-base'>permissions</span></strong>, see the <a managed-link="" href='#3' target="" bookmark-id='3'><permissions> Syntax</permissions></a> section later in this article.<br></li><li><span class='text-base'>/i</span>:{<span class='text-base'>p</span> | <span class='text-base'>s </span>| <span class='text-base'>t</span>} : Use this parameter to specify one of the following inheritance flags: <ul class='sbody-free_list'><li><span class='text-base'>p</span>: Use this option to propagate inheritable permissions one level  only.</li><li><span class='text-base'>s</span>: Use this option to propagate inheritable permissions to  subobjects only.</li><li><span class='text-base'>t</span>: Use this option to propagate inheritable permissions to this  object and subobjects.</li></ul></li><li><span class='text-base'>/n </span>: Use this parameter to replace the current access on the object, instead of editing it. </li><li><span class='text-base'>/p</span>:{<span class='text-base'>y </span>| <span class='text-base'>n</span>}: This parameter determines whether the object can inherit permissions from its parent objects. If you omit this parameter, the inheritance properties of the object are not changed. Use this parameter to mark the object as protected (<span class='text-base'>y</span> = yes) or not protected (<span class='text-base'>n</span> = no). <br><br><span class='text-base'>Note</span> This parameter changes a property of the object, not of an Access Control Entry (ACE). To determine whether an ACE is inheritable, use the /I parameter.</li><li><span class='text-base'>/r</span> {<strong class='sbody-strong'><span class='text-base'>user</span></strong> | <strong class='sbody-strong'><span class='text-base'>group</span></strong>}: Use this parameter to remove all permissions for the specified user or group. You can specify more than one user or group in a command. <strong class='sbody-strong'><span class='text-base'>User</span></strong> must use either <strong class='sbody-strong'>user</strong>@<strong class='sbody-strong'>domain</strong> or <strong class='sbody-strong'>domain</strong>\<strong class='sbody-strong'>user</strong> format, and <strong class='sbody-strong'><span class='text-base'>group</span></strong> must use either <strong class='sbody-strong'>group</strong>@<strong class='sbody-strong'>domain</strong> or <strong class='sbody-strong'>domain</strong>\<strong class='sbody-strong'>group</strong> format.<br></li><li><span class='text-base'>/s</span>: Use this parameter to restore the security on the object to the default security for that object class, as defined in the Active Directory schema. </li><li><span class='text-base'>/t <br></span>: Use this parameter to restore the security on the tree of objects to the default for each object class. This switch is valid only when you also use the <span class='text-base'>/s</span> parameter. </li></ul><h4 class='sbody-h4'><span class='text-base'><strong class='sbody-strong'>Permissions <br> </strong>Syntax</span><a class='bookmark' id='3'></a></h4>You must use the following syntax for <strong class='sbody-strong'><span class='text-base'><strong class='sbody-strong'>permissions</strong></span></strong> when you use the <span class='text-base'>/d</span> {<strong class='sbody-strong'><span class='text-base'>user</span></strong> | <strong class='sbody-strong'><span class='text-base'>group</span>}</strong>:<strong class='sbody-strong'><span class='text-base'>permissions</span></strong> or <span class='text-base'>/g </span>{<strong class='sbody-strong'><span class='text-base'>user</span></strong> | <strong class='sbody-strong'><span class='text-base'>group</span>}</strong>:<strong class='sbody-strong'><span class='text-base'>permissions</span></strong> parameter : <div class='indent'>[<strong class='sbody-strong'>PermissionBits</strong>];[{<strong class='sbody-strong'>Object|Property</strong>}];[<strong class='sbody-strong'>InheritedObjectType</strong>]<br></div><ul class='sbody-free_list'><li><strong class='sbody-strong'><span class='text-base'>PermissionBits</span></strong> can use any of the following values, which can be concatenated together without spaces: <br><br><span class='text-base'>Generic Permissions</span><div class='indent'></div><div class='table-responsive'><table class='sbody-table table'><tr class='sbody-tr'><td class='sbody-td'><span class='text-base'>GR</span></td><td class='sbody-td'>Generic Read</td></tr><tr class='sbody-tr'><td class='sbody-td'><span class='text-base'>GE</span></td><td class='sbody-td'>Generic Execute</td></tr><tr class='sbody-tr'><td class='sbody-td'><span class='text-base'>GW</span></td><td class='sbody-td'>Generic Write</td></tr><tr class='sbody-tr'><td class='sbody-td'><span class='text-base'>GA</span></td><td class='sbody-td'>Generic All</td></tr></table></div><br><span class='text-base'>Specific Permissions<br><br></span><div class='table-responsive'><table class='sbody-table table'><tr class='sbody-tr'><td class='sbody-td'><span class='text-base'>SD</span></td><td class='sbody-td'>Delete</td></tr><tr class='sbody-tr'><td class='sbody-td'><span class='text-base'>DT</span></td><td class='sbody-td'>Delete an object and all its child objects.</td></tr><tr class='sbody-tr'><td class='sbody-td'><span class='text-base'>RC</span></td><td class='sbody-td'>Read security information</td></tr><tr class='sbody-tr'><td class='sbody-td'><span class='text-base'>WD</span></td><td class='sbody-td'>Change security information</td></tr><tr class='sbody-tr'><td class='sbody-td'><span class='text-base'>WO</span></td><td class='sbody-td'>Change owner information</td></tr><tr class='sbody-tr'><td class='sbody-td'><span class='text-base'>LC</span></td><td class='sbody-td'>List the child objects of an object</td></tr><tr class='sbody-tr'><td class='sbody-td'><span class='text-base'>CC</span></td><td class='sbody-td'>Create child object. If {<strong class='sbody-strong'><span class='text-base'>Object</span>|<span class='text-base'>Property</span></strong>} is not specified to define a specific property, this applies to all properties of an object. Otherwise, it applies to the specified property of the object.</td></tr><tr class='sbody-tr'><td class='sbody-td'><span class='text-base'>DC</span></td><td class='sbody-td'>Delete child object. If {<strong class='sbody-strong'><span class='text-base'>Object</span>|<span class='text-base'>Property</span></strong>} is not specified to define a specific property, this applies to all properties of an object. Otherwise, it applies to the specified property of the object.</td></tr><tr class='sbody-tr'><td class='sbody-td'><span class='text-base'>WS</span></td><td class='sbody-td'>Write to self object. If {<strong class='sbody-strong'><span class='text-base'>Object</span>|<span class='text-base'>Property</span></strong>} is not specified to define a specific property, this applies to all properties of an object. Otherwise, it applies to the specified property of the object.</td></tr><tr class='sbody-tr'><td class='sbody-td'><span class='text-base'>RP</span></td><td class='sbody-td'>Read property. If {<strong class='sbody-strong'><span class='text-base'>Object</span>|<span class='text-base'>Property</span></strong>} is not specified to define a specific property, this applies to all properties of an object. Otherwise, it applies to the specified property of the object.</td></tr><tr class='sbody-tr'><td class='sbody-td'><span class='text-base'>WP</span></td><td class='sbody-td'>Write property. If {<strong class='sbody-strong'>Object|Property</strong>} is not specified to define a specific property, this applies to all properties of an object. Otherwise, it applies to the specified property of the object.</td></tr><tr class='sbody-tr'><td class='sbody-td'><span class='text-base'>CA</span></td><td class='sbody-td'>Control access right. If {<strong class='sbody-strong'><span class='text-base'>Object</span>|<span class='text-base'>Property</span></strong>} is not specified to define a specific property, this applies to all properties of an object. Otherwise, it applies to the specified property of the object.</td></tr><tr class='sbody-tr'><td class='sbody-td'><span class='text-base'>LO</span></td><td class='sbody-td'> List the object access. Can be used to grant list access to a specific object if List Children (LC) is not also granted to the parent. Can also be denied on specific objects to hide those objects if the user or group has LC on the parent. By default, Active Directory does not enforce this permission. </td></tr></table></div></li><li>{<strong class='sbody-strong'><span class='text-base'>Object</span>|<span class='text-base'>Property</span></strong>}: This represents the display name of the object type or property. For example, &quot;user&quot; (without the quotation marks) is the display name for user objects, and &quot;telephone number&quot; (without the quotation marks) is the display name for the telephone number property.<br><br>For example, the following command permits the user to create all types of child objects:<div class='indent'><span class='sbody-userinput'>/G Domain\User:CC</span></div><br>However, the following command permits the user to create only child computer objects: <div class='indent'><span class='sbody-userinput'>/G Domain\User:CC;computer</span></div></li><li><strong class='sbody-strong'><span class='text-base'>InheritedObjectType</span></strong>: This represents the display name of the object type by which the permissions are expected to be inherited. <br><br>If an object type is not specified, the permission can be inherited by all object types. This parameter is used only when permissions are inheritable.<br><br>For example, the following command permits all types of objects to inherit the permission:<div class='indent'><span class='sbody-userinput'>/G Domain\User:CC</span></div>However, the following command permits only user objects to inherit the permission:<div class='indent'><span class='sbody-userinput'>/G Domain\User:CC;;user</span></div></li></ul><span class='text-base'>IMPORTANT</span>: Use <strong class='sbody-strong'><span class='text-base'>permissions</span></strong> only when you define object-specific permissions that override the default permissions defined in the Active Directory schema for that object type. Use with caution and only if you have a full understanding of object-specific permissions. <br><br><a managed-link="" href='#toc' target="" bookmark-id='toc'>back to the top</a><br><br><span class='text-base'>Examples of <strong class='sbody-strong'>Permissions</strong><a class='bookmark' id='4'></a></span><ul class='sbody-free_list'><li>SDRCWDWO;;user<br><br>This notation represents Delete, Read security information, Change security information, and Change ownership permissions on objects of type &quot;user&quot;. </li><li> CCDC;group;<br><br>This notation represents Create child and Delete child permissions to create or delete objects of type &quot;group&quot;.</li><li> RPWP;telephonenumber;<br><br>This notation represents Read property and Write property permissions on the telephone number property.<br></li></ul><a managed-link="" href='#toc' target="" bookmark-id='toc'>back to the top</a></div><div class='kb-references-section section'><a class='bookmark' id='5'></a>For more information about the <span class='text-base'>dsacls.exe</span> command, type <span class='sbody-userinput'>dsacls /?</span> at the command prompt, and then press ENTER.<br><span>For more information about the latest updates to Dscals.exe that are included in Microsoft Windows Server 2003 Service Pack 1 (SP1), click the following article number to view the article in the Microsoft Knowledge Base:<br><br><div class='indent'><a id='kb-link-1' href='/en-us/help/892777'>892777 </a> Windows Server 2003 Service Pack 1 Support Tools<br><br></div></span><br><span> For  additional information about how to install the Windows 2000 Support Tools,  click the following article number to view the article in the Microsoft  Knowledge Base: <div class='indent'><a id='kb-link-2' href='/EN-US/help/301423'>301423 </a> HOW TO: Install the Windows 2000 Support Tools to a Windows 2000 Server-Based Computer <br></div></span><span> For additional information the tools  that are included with Windows 2000 Support Tools, click the following article  numbers to view the articles in the Microsoft Knowledge Base: <div class='indent'><a id='kb-link-3' href='/EN-US/help/246926'>246926 </a> Folder Listing of the Support Tools Included in Windows 2000<br></div></span><span><div class='indent'><a id='kb-link-4' href='/EN-US/help/292003'>292003  </a> Service Pack 2 Adds Updates to Several Windows 2000 Support Tools<br></div></span><span><div class='indent'><a id='kb-link-5' href='/EN-US/help/322271'>322271  </a> Service Pack 3 Adds Updates to Several Windows 2000 Support Tools<br></div></span><a managed-link="" href='#toc' target="" bookmark-id='toc'>back to the top</a></div><div class='kb-textlegacy-section section'>Author: MFER (2000-11-30T11:06:00) </div>