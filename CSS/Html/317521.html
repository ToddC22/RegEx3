<header><h1>Description of the BOOTCFG Command and Its Uses</h1></header><div class='kb-notice-section section'><span>For a Microsoft Windows XP version of this article, see<br> <a id='kb-link-1' href='/EN-US/help/291980'>291980 </a>. <br></span></div><div class='kb-summary-section section'> This article discusses the <span class='text-base'>bootcfg</span> command and its uses. </div><div> The <span class='text-base'>bootcfg</span> command is a Microsoft Windows Server 2003 utility that modifies the Boot.ini file. This command has a function that can scan your computer&#39;s hard disks for Microsoft Windows NT, Microsoft Windows 2000, Microsoft Windows XP, and Windows Server 2003 installations, and then add them to an existing Boot.ini file or rebuild a new Boot.ini file if one does not exist. You can use the <span class='text-base'>bootcfg</span> command to add additional Boot.ini file parameters to existing or new entries.<br><br>The<br> <span class='text-base'>bootcfg</span> command is available in the Windows Server 2003 operating system and in the Recovery Console. This article describes only the options that are available to <span class='text-base'>bootcfg</span> while in the Recovery Console. Not all the options that are available in <span class='text-base'>bootcfg</span> in the Recovery Console are in the version of Bootcfg.exe that ships with Windows Server 2003. Bootcfg.exe has a different set of commands available. You can start the Recovery Console by using one of the following methods: <br> <ul class='sbody-free_list'><li>Start your computer with the Windows Server 2003 CD-ROM, and then press <span class='text-base'>R</span> to select <span class='text-base'>Recovery Console</span>.</li><li>Install the Recovery Console locally by using the <span class='text-base'>Winnt32.exe /cmdcons</span> command. Restart the server, and then select <strong class='uiterm'>Microsoft Windows Recovery Console</strong> on the <span class='text-base'>Startup</span> menu.</li></ul><h3 class='sbody-h3'>The Bootcfg Command and Its Uses</h3><ul class='sbody-free_list'><li>For a list of the available <span class='text-base'>bootcfg</span> commands, type <span class='sbody-userinput'>bootcfg</span> at the Recovery Console command prompt, and then press ENTER.</li><li>The <strong class='uiterm'>bootcfg /default</strong> command sets the default operating system option on the <span class='text-base'>Startup</span> menu (this command selects the operating system entry automatically).</li><li>The <strong class='uiterm'>bootcfg /add</strong> command scans the computer for Windows NT, Windows 2000, Windows XP, or Windows Server 2003 installations, and then displays the results. From this screen, you can add an installation to the <span class='text-base'>Startup</span> menu.<br><br> When you enter this command, you receive a message similar to the following: <div class='indent'>Scanning all disks for Windows Installations.<br><br>Please wait, since this may take a while...<br><br>The Windows installation scan was successful.<br><br>Note: These results are stored statically for this session.<br>      If the disk configuration changes during this session,<br>      in order to get an updated scan, you must first reboot<br>      the machine and then rescan the disks.<br><br>Total identified Windows installs: 2<br><br>[1]: C:\WINNT<br>[2]: F:\WINDOWS<br><br>Select an installation to add:<br></div> When you type the number of the installation that you want, a new entry is added to the <span class='text-base'>Startup</span> menu as the default operating system to start.</li><li>The <span class='text-base'>bootcfg /rebuild</span> command scans your computer for Windows NT, Windows 2000, Windows XP, or Windows Server 2003 installations, and then displays the results. From this screen, you can add the detected Windows installations to the <span class='text-base'>Startup</span> menu.<br><br> When you enter this command, you receive a message similar to the following: <div class='indent'>The Windows installation scan was successful.<br><br>Note: These results are stored statically for this session.<br>      If the disk configuration changes during this session,<br>      in order to get an updated scan, you must first reboot<br>      the machine and then rescan the disks.<br><br>Total identified Windows installs: 2<br><br>[1]: C:\WINNT<br>Add installation to boot list? (Yes/No/All):<br></div> When you type <span class='sbody-userinput'>y</span>, and then press ENTER, you receive the following message: <div class='indent'>Enter Load Identifier:<br></div> Type the description of the installation that you want displayed on the <span class='text-base'>Startup</span> menu. For example, type <span class='sbody-userinput'>Microsoft Windows Server 2003</span>, and then press ENTER.<br><br> You receive the following message: <div class='indent'>Enter OS Load Options:<br></div> Type the operating system load options that you want. For example, type <span class='sbody-userinput'>/fastdetect</span>, and then press ENTER.<br></li><li>The <span class='text-base'>bootcfg /scan</span> command scans your computer for Windows NT, Windows 2000, Windows XP, and Windows Server 2003 installations, and then displays the results.<br><br> When you enter this command, you receive a message similar to the following:<div class='indent'>The Windows installation scan was successful.<br><br>Note: These results are stored statically for this session.<br>      If the disk configuration changes during this session,<br>      in order to get an updated scan, you must first reboot<br>      the machine and then rescan the disks.<br><br>Total identified Windows installs: 2<br><br>[1]: C:\WINNT<br>[2]: F:\WINDOWS<br></div></li><li>The <span class='text-base'>bootcfg /list</span> command reads the Boot.ini file, and then displays the operating system identifier, the operating system load options, and the operating system location (path). When you enter this command, you receive a message similar to the following: <div class='indent'>Total entries in boot list: 2<br><br>[1]: &quot;Microsoft Windows Server 2003, Enterprise Edition&quot;<br>OS Load Options: /fastdetect<br>OS Location: F:\WINDOWS<br><br>[2]: &quot;Microsoft Windows 2000 Server&quot;<br>OS Load Options: /fastdetect<br>OS Location: C:\WINNT<br></div></li><li> The <strong class='uiterm'>bootcfg /ems</strong> command permits redirection in the boot loader, with the configuration specified as port and baud rate. This command is used to start the Headless Administration feature.<br><br><span class='text-base'>NOTE</span>: Headless Administration is the administration of a computer that does not have a physical monitor, keyboard, mouse, or switch box attached.<br><br> The following is an example of how you can use this command:<div class='indent'><span class='text-base'>bootcfg /ems /port com1 /baud 115200</span></div><span class='text-base'>NOTE</span> The <span class='text-base'>bootcfg /disableems</span> command turns off the redirection functionality in the boot loader, with the configuration specified as port and baud rate. This command is used to turn off the Headless Administration feature.</li></ul></div><div class='kb-securedata-section section'><span class='text-base'>NOTE</span>: The <span class='text-base'>bootcfg /ems</span> and <span class='text-base'>bootcfg /disableems </span> commands apply only to computers that run Windows Server 2003 and later. Additionally, note that only the following versions are included in 64-bit format: <br><ul class='sbody-free_list'><li>Windows XP Professional</li><li>Microsoft Windows Server 2003, Enterprise Edition</li><li>Microsoft Windows Server 2003, Datacenter Edition<br> </li></ul></div><div class='kb-securedata-section section'>The <span class='text-base'>bootcfg /rebuild</span> and <span class='text-base'>bootcfg /scan</span> commands look only for Windows Server 2003, Windows XP, Windows 2000, and Windows NT 4.0 installations. These commands do not detect Windows 95 or Windows 98 installations. The <span class='text-base'>/rebuild</span> and <span class='text-base'>/scan</span> switches search your computer&#39;s hard disks for the Windows registry hives and the C:\Windows\System\Drivers folder. </div><div class='kb-moreinformation-section section'> You can also modify the Boot.ini file in the Windows Server 2003 graphical user interface (GUI). To do this, use one of the following methods. <h3 class='sbody-h3'>Method 1: Modify Boot.ini in  the Startup and Recovery Dialog Box</h3><ol class='sbody-num_list'><li>Click <span class='text-base'>Start</span>, point to <span class='text-base'>Settings</span>, and then click <span class='text-base'>Control Panel</span>.</li><li>In Control Panel, double-click <span class='text-base'>System</span>.</li><li>Click the <span class='text-base'>Advanced</span> tab, click <span class='text-base'>Settings</span> under <strong class='uiterm'>Startup and Recovery</strong>, and then click <span class='text-base'>Edit</span>.<br><br> The Boot.ini file is opened in Notepad.</li><li>When you finish editing the Boot.ini file, click <span class='text-base'>Save</span> on the <span class='text-base'>File</span> menu, and then quit Notepad.</li><li>In the <strong class='uiterm'>Startup and Recovery</strong> dialog box, click <span class='text-base'>OK</span> twice.</li></ol><h3 class='sbody-h3'>Method 2: Modify Boot.ini by using  the System Configuration Utility</h3><ol class='sbody-num_list'><li>Click <span class='text-base'>Start</span>, and then click <span class='text-base'>Run</span>.</li><li>In the <span class='text-base'>Open</span> box, type <span class='sbody-userinput'>msconfig</span>, and then click <span class='text-base'>OK</span>.</li><li>In the <span class='text-base'>System Configuration Utility</span> dialog box, click the <span class='text-base'>BOOT.INI</span> tab.</li></ol></div><div class='kb-securedata-section section'>kbmgmtsvc</div><div class='kb-textlegacy-section section'>DOC INFO: kbWinNETAdvServSearch kbWinNETDataServSearch kbWinNETServSearch kbWinNETSearch Author: MBIAS (2002-01-31T13:26:00) Edit Reviewer: V-RHOWAR (2002-04-23T12:44:00) Tech Reviewer: DAVIDRH (2002-04-02T09:27:00) rewrite: v-wendyp (edit v-janhal)</div>