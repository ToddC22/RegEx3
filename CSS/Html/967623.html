<header><h1>You receive a Key Distribution Center &quot;Event ID: 29&quot; event message on a Windows Server 2008-based domain controller</h1></header><div class='kb-idea-section section'><span class='text-base'>Source: </span>Microsoft Support</div><div class='kb-idea-section section'>RAPID PUBLISHING ARTICLES PROVIDE INFORMATION DIRECTLY FROM WITHIN THE MICROSOFT SUPPORT ORGANIZATION.  THE INFORMATION CONTAINED HEREIN IS CREATED IN RESPONSE TO EMERGING OR UNIQUE TOPICS, OR IS INTENDED SUPPLEMENT OTHER KNOWLEDGE BASE INFORMATION.</div><div class='kb-symptoms-section section'><br><br>Consider the following scenario: <br><br><br>&#183;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; You are using a Microsoft Windows Server 2008 domain controller. <br><br><br>&#183;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; The domain controller is part of a domain that does not have a certification authority (CA) installed. <br><br><br>&#183;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; You receive the following event message in the Event Viewer System log: <br><br><br>&#160;<br><br><br>Log Name: System<br><br><br>Source: Microsoft-Windows-Kerberos-Key-Distribution-Center<br><br><br>Date: 10/13/2008 1:56:30 PM<br><br><br>Event ID: 29<br><br><br>Task Category: None<br><br><br>Level: Warning<br><br><br>Keywords: Classic<br><br><br>User: N/A<br><br><br>Computer: computer name<br><br><br>Description:<br><br><br>The Key Distribution Center (KDC) cannot find a suitable certificate to use for <br><br><br>smart card logons, or the KDC certificate could not be verified. Smart card logon <br><br><br>may not function correctly if this problem is not resolved. To correct this <br><br><br>problem, either verify the existing KDC certificate using certutil.exe or enroll <br><br><br>for a new KDC certificate.<br></div><div class='kb-cause-section section'><br><br>This is by design behavior. <br><br><br>The Kerberos-Key-Distribution-Center (KDC) service repeats this check in order to see if there is an existing, workable certificate or if a new one is present. In this case the error handling does not take into account a non-CA environment.<br></div><div class='kb-resolution-section section'><br><br>To resolve this issue use one of the following methods:<br><br><br>&#160;<br><br><br>&#183;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; If there is&#160;no CA in your domain, you can ignore this event.<br><br><br>&#183;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Install a CA in the domain. <br><br><br>&#183;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; If there is a CA in the domain, request a new domain controller certificate from the CA. For more information, see the following Microsoft Knowledgebase article: <a id='kb-link-1' href='http://technet.microsoft.com/en-us/library/cc734096.aspx' target='_self'>http://technet.microsoft.com/en-us/library/cc734096.aspx</a><br><br>&#160;<br><br><br>&#183;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Make sure that the DC cert was not deleted. The DC certificate should be listed in the personal store on the DC under computer certificates.<br><br><br>&#160;<br></div><div class='kb-moreinformation-section section'><br><br>This issue may also occur because of invalid domain controller certificates. Domain controller certificates may become invalid if you remove a CA that was installed in the domain. After you remove the CA, the domain controller still tries to contact the CA. To resolve this issue, remove all the invalid domain controller certificates. <br><br><br>For more information, see the following Microsoft Knowledgebase article:<br><br><br><a id='kb-link-2' href='/default.aspx?scid=kb;en-us;939088' target='_self'>http://support.microsoft.com/default.aspx?scid=kb;EN-US;939088</a><br><br><br><br>For more information about Active Directory services, see the following:<br><br><br>&#160;<br><br><br>Active Directory Certificate Services Overview<br><br><br><a id='kb-link-3' href='http://technet.microsoft.com/en-us/library/cc755071.aspx' target='_self'>http://technet.microsoft.com/en-us/library/cc755071.aspx</a><br><br>&#160;<br><br><br>AD CS Upgrade and Migration Overview<br><br><br><a id='kb-link-4' href='http://technet.microsoft.com/en-us/library/cc742479.aspx' target='_self'>http://technet.microsoft.com/en-us/library/cc742479.aspx</a><br><br>&#160;<br></div><div class='kb-symptoms-section section'><br><br>If you have questions about this content please contact the Source ID: akhleshs<br></div><div class='kb-securedata-section section'>DOC INFO:<br> <br><span class='text-base'>Knowledge Expert: v-bobbid (2009-02-06T19:31:47.173)</span><br><span class='text-base'>Created By: v-bobbid</span><br><span class='text-base'>Last Author: v-bobbid</span><br><span class='text-base'>Last Modified By: v-bobbid</span></div><div class='kb-idea-section section'>MICROSOFT AND/OR ITS SUPPLIERS MAKE NO REPRESENTATIONS OR WARRANTIES ABOUT THE SUITABILITY, RELIABILITY OR ACCURACY OF THE INFORMATION CONTAINED IN THE DOCUMENTS AND RELATED GRAPHICS PUBLISHED ON THIS WEBSITE (THE “MATERIALS”) FOR ANY PURPOSE. THE MATERIALS MAY INCLUDE TECHNICAL INACCURACIES OR TYPOGRAPHICAL ERRORS AND MAY BE REVISED AT ANY TIME WITHOUT NOTICE.<br><br><br>TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, MICROSOFT AND/OR ITS SUPPLIERS DISCLAIM AND EXCLUDE ALL REPRESENTATIONS, WARRANTIES, AND CONDITIONS WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING BUT NOT LIMITED TO REPRESENTATIONS, WARRANTIES, OR CONDITIONS OF TITLE, NON INFRINGEMENT, SATISFACTORY CONDITION OR QUALITY, MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE, WITH RESPECT TO THE MATERIALS.</div>