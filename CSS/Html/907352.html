<header><h1>You receive a &quot;constraint violation occurred&quot; error message when you assign an IPsec policy on a Windows Server 2003-based computer</h1></header><div class='kb-notice-section section'>Template: zGeneric Problem Article</div><div class='kb-notice-section section'><div internal-content-body=""><div class="internal-content"><div class="bold internal-content-body-title spacer-12-bottom">Microsoft Internal Support Information</div><div class="row"><div class="col-xs-24 internal-content-body-content"><p>BUG #: <a href='http://bugcheck/bugs/ContentMaintenance/42717.asp' title='Link only available for Microsoft corporate network users' target='_blank'>42717 (Content Maintenance)</a></p></div></div></div></div></div><div class='kb-symptoms-section section'>Consider the following scenario. You create an organizational unit (OU) in the Active Directory directory service on a Microsoft Windows Server 2003-based computer. Then, you try to assign an Internet Protocol security (IPsec) policy to the Group Policy object (GPO) of the new OU before this OU is fully replicated.  In this scenario, you  receive the following error message:<div class='sbody-error'>A constraint violation occurred.</div>This symptom occurs when you are working on a domain controller that is not in the same domain as  the primary domain controller (PDC) emulator. Therefore, replication is not immediate.</div><div class='kb-cause-section section'>By default,  the Group Policy Object Editor snap-in connects to the PDC emulator when the Active Directory Users and Computers snap-in connects to the closest domain controller. In this case, the closest domain controller is the local computer.</div><div class='kb-workaround-section section'> To work around this problem, make sure that  the Active Directory Users and Computers  snap-in and the Group Policy Object Editor  snap-in connect to the same domain controller.</div><div class='kb-moreinformation-section section'><h3 class='sbody-h3'>Steps to reproduce the problem</h3><ol class='sbody-num_list'><li> Set up a Windows Server 2003-based domain controller. Name  this domain controller &quot; DC1.&quot;<br></li><li>Set up a second Windows Server 2003-based domain controller. Name this domain controller &quot;DC2.&quot; Make sure that DC2 is  in the same domain as DC1. </li><li> Log on to DC2, and then start the Active Directory Users and Computers snap-in.</li><li> Create a custom OU.</li><li>Select the properties of this OU to change the Group Policy settings.</li><li>Modify the GPO.</li><li>Create a new IPsec policy, and then try to assign this policy. You receive the error message that is mentioned in the &quot;Symptoms&quot; section.</li></ol></div><div class='kb-references-section section'><span>For more information about how to set up the Microsoft CRM organizational unit, click the following article number to view the article in the Microsoft Knowledge Base:<br><br><div class='indent'><a id='kb-link-1' href='/en-us/help/902571'>902571 </a> How to set up the Microsoft CRM organizational unit so that end users in the domain cannot see the organizational unit<br><br></div></span></div><div class='kb-securedata-section section'>Author: bertm<br>Writer: v-lucylu<br>Tech Reviewer: willchen<br> Editor: v-rhowar</div>