<header><h1>How to create and configure performance alerts in Windows Server 2003</h1></header><div><span></span></div><div class='kb-securedata-section section'>DO NOT DELETE OR ARCHIVE THIS ARTICLE<br>This article is referenced by TechNet.<br>Contact the Content Business Manager for this product if you have any questions.<br></div><div class='kb-notice-section section'><span><span class='text-base'>Important</span> This article contains information about how to modify the registry. Make sure to back up the registry before you modify it. Make sure that you know how to restore the registry if a problem occurs. For more information about how to back up, restore, and modify the registry, click the following article number to view the article in the Microsoft Knowledge Base:<div class='indent'><a id='kb-link-1' href='/en-us/help/256986'>256986 </a> Description of the Microsoft Windows registry</div></span><span><div class='kb-notice-section section'>For a Microsoft Windows 2000 version of this article, see <a id='kb-link-2' href='/en-us/help/302558'>302558 </a>.<br><br></div></span></div><div class='kb-summary-section section'> This step-by-step article describes how to create and configure performance alerts in Windows Server 2003.<h3 class='sbody-h3'>How to Create an Alert</h3> To create or modify a log configuration, you must have Full Control permission for the following registry key, which controls the Performance Logs and Alerts service: <div class='indent'><span class='text-base'>HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\SysmonLog\Log Queries</span></div> To create an alert: <br> <ol class='sbody-num_list'><li>Click <span class='text-base'>Start</span>, point to <span class='text-base'>Administrative Tools</span>, and then click <span class='text-base'>Performance</span>.</li><li>Double-click <strong class='uiterm'>Performance Logs and Alerts</strong>, and then click <span class='text-base'>Alerts</span>.<br><br><span class='text-base'>NOTE</span>: Any existing alerts are listed in the Details pane. A green icon indicates that the logs are running, and a red icon indicates alerts that have stopped.</li><li>Right-click a blank area in the Details pane, and then click <span class='text-base'>New Alert Settings</span>.</li><li>In the <span class='text-base'>Name</span> box, type the name of the alert, and then click <span class='text-base'>OK</span>. <br><br> The <span class='text-base'><strong class='sbody-strong'>AlertName</strong></span> dialog box is displayed. In this dialog box, you configure settings for the alert that you created. <br><br> To define a comment, add counters, alert thresholds, and the sample interval, use the <span class='text-base'>General</span> tab. To specify the actions that occur when counter data triggers an alert, use the <span class='text-base'>Action</span> tab. To define start and stop parameters for an alert, use the <span class='text-base'>Schedule</span> tab. </li></ol> The following sections of this article describe how to configure alert options in each of these tabs.<h3 class='sbody-h3'>How to Configure Alerts</h3><h4 class='sbody-h4'>Define Counters and Thresholds for an Alert</h4><ol class='sbody-num_list'><li>Click <span class='text-base'>Start</span>, point to <span class='text-base'>Administrative Tools</span>, and then click <span class='text-base'>Performance</span>.</li><li>Double-click <strong class='uiterm'>Performance Logs and Alerts</strong>, and then click <span class='text-base'>Alerts</span>. </li><li>In the Details pane, double-click the alert that you want to configure.</li><li>Click the <span class='text-base'>General</span> tab.</li><li>In the <span class='text-base'>Comment</span> box, type an appropriate comment to describe the alert (if you have not already added a comment), and then click <span class='text-base'>Add</span>.</li><li>For each counter or group of counters that you want to add to the log, follow these steps: <br><ol class='sbody-alpha_list'><li>To monitor counters from the computer on which the Performance Logs and Alerts service runs, click <span class='text-base'>Use local computer counters</span>. Or, to monitor counters from a specific computer regardless of where the service is run, click <strong class='uiterm'>Select counters from computer</strong>, and then specify the name of the computer you want to monitor.</li><li>In the <span class='text-base'>Performance object</span> box, click the object that you want to monitor.</li><li>In the <strong class='uiterm'>Select counters from list</strong> box, click the counter(s) that you want monitor.</li><li>To monitor all instances of the selected counters, click <strong class='uiterm'>All instances</strong>. Note that binary logs can include instances that are not available at log startup but subsequently become available. Or, to monitor particular instances of the selected counters, click<br> <strong class='uiterm'>Select Instances From List</strong>, and then click the instances that you want to monitor.</li><li>Click <span class='text-base'>Add</span>.</li></ol></li><li>Click <span class='text-base'>Close</span> when you are finished.</li><li>In the <strong class='uiterm'>Alert when the value is</strong> box, click either <span class='text-base'>Under</span> or <span class='text-base'>Over</span>, and then specify the value that triggers the alert in the <span class='text-base'>Limit</span> box. </li><li>In the <span class='text-base'>Sample data every</span> box, specify the amount and the unit of measure for the update interval that you want. </li><li>Click <span class='text-base'>OK</span>.</li></ol><h4 class='sbody-h4'>Define Actions for an Alert</h4><ol class='sbody-num_list'><li>Click <span class='text-base'>Start</span>, point to <span class='text-base'>Administrative Tools</span>, and then click <span class='text-base'>Performance</span>.</li><li>Double-click <strong class='uiterm'>Performance Logs and Alerts</strong>, and then click <span class='text-base'>Alerts</span>. </li><li>In the Details pane, double-click the alert that you want to configure.</li><li>Click the <span class='text-base'>Action</span> tab.</li><li>Specify the action or actions that you want: <br><ul class='sbody-free_list'><li>If you want the Performance Logs and Alerts service to create an entry in the application log of Event Viewer when an alert occurs, click to select the <strong class='uiterm'>Log an entry in the application event log</strong> check box.</li><li>If you want the Performance Logs and Alerts service to trigger the Messenger service to send a message, click to select the <span class='text-base'>Send a network message to</span> check box, and then type the IP address or name of the computer on which the alert message should be displayed.</li><li>To run a counter log when an alert occurs, click to select the <strong class='uiterm'>Start performance data log</strong> check box, and then specify the counter log that you want to run.</li><li>To run a command or program when an alert occurs, click to select the <strong class='uiterm'>Run this program</strong> check box, and then type the file path and name of the program or command that you want to run, or click <span class='text-base'>Browse</span> to locate the file. <br><br> When an alert occurs, the service creates a process and runs the specified command file. The service also copies any command-line arguments you define to the command line that is used to run the file. Click <span class='text-base'>Command Line Arguments</span>, and then click to select the appropriate check boxes to include the arguments that you want when the program is run. <br><br><span class='text-base'>Note</span> You must select at least one command-line argument or the program will not run.  (This is true regardless of what program you have selected.)</li></ul></li><li>Click <span class='text-base'>OK</span>.</li></ol><h4 class='sbody-h4'>Define Start or Stop Parameters for an Alert</h4><ol class='sbody-num_list'><li>Click <span class='text-base'>Start</span>, point to <span class='text-base'>Administrative Tools</span>, and then click <span class='text-base'>Performance</span>.</li><li>Double-click <strong class='uiterm'>Performance Logs and Alerts</strong>, and then click <span class='text-base'>Alerts</span>. </li><li>In the Details pane, double-click the alert that you want to configure.</li><li>Click the <span class='text-base'>Schedule</span> tab.</li><li>Under <strong class='uiterm'>Start scan</strong>, do one of the following:<br><br><ul class='sbody-free_list'><li>Click <span class='text-base'>Manually</span> if you want to manually start the scan. After you select this option, right-click the alert in the right pane, and then click <span class='text-base'>Start</span> to start the scan.</li><li>Click <span class='text-base'>At</span> to start the scan at a specific time and date, and then specify the time and date that you want.</li></ul></li><li>Under <strong class='uiterm'>Stop scan</strong>, do one of the following: <br><ul class='sbody-free_list'><li>Click <span class='text-base'>Manually</span> if you want to manually stop the scan. After you select this option, right-click the alert in the right pane, and then click <span class='text-base'>Stop</span> to start the scan.</li><li>Click <span class='text-base'>After</span> to stop the scan after a specified duration, and then specify the time interval that you want.</li><li>Click <span class='text-base'>At</span> to stop the scan at a specific time and date, and then specify the time and date that you want.</li></ul></li><li>If you want to stat a new scan, click to select the<br><strong class='uiterm'>Start a new scan</strong> check box.</li><li>Click <span class='text-base'>OK</span>.</li></ol></div><div class='kb-references-section section'> For more information about Performance Logs and Alerts, see Performance Logs and Alerts Help. Click <span class='text-base'>Start</span>, point to <span class='text-base'>Administrative Tools</span>, and then click <span class='text-base'>Performance</span>. On the <span class='text-base'>Action</span> menu, click <span class='text-base'>Help</span>.</div><div class='kb-securedata-section section'>kbmgmtsvc</div><div class='kb-textlegacy-section section'>Author: THEANOP (2002-06-18T10:55:00) Edit Reviewer: V-DIANAG (2002-07-17T14:52:00) Tech Reviewer: MICHELLM (2002-07-17T11:12:00)<br> </div>