<header><h1>How to override the license server discovery process in Windows Server 2003 Terminal Services</h1></header><div class='kb-summary-section section'> This article describes how to override the license server discovery process in Microsoft Windows Server 2003 Terminal Services.<br> </div><div class='kb-moreinformation-section section'><span><span class='text-base'>Important</span> This section, method, or task contains steps that tell you how to modify the registry. However, serious problems might occur if you modify the registry incorrectly. Therefore, make sure that you follow these steps carefully. For added protection, back up the registry before you modify it. Then, you can restore the registry if a problem occurs. For more information about how to back up and restore the registry, click the following article number to view the article in the Microsoft Knowledge Base: <div class='indent'><a id='kb-link-1' href='/en-us/help/322756'>322756 </a> How to back up and restore the registry in Windows</div></span><br> To select a specific license server for use with various Windows Terminal Services servers in a domain or site, you can modify the registry to point to a particular license server. You can specify that all Terminal Services servers work with a particular license server for accounting purposes. A Terminal Services server and the license server can reside in different domains. Microsoft recommends that you use the LicenseServers registry key to reduce any issues with the Terminal Server licensing discovery process.<br><br><span class='text-base'>Note</span> The license servers and the terminal servers should be in the same domain or the servers should be in domains that trust each other. <br><br><br><br><span class='text-base'>Note</span> If you select license servers in a different forest or workgroup, you must apply a hotfix. <span>For more information, click the following article number to view the article in the Microsoft Knowledge Base:<br><br><div class='indent'><a id='kb-link-2' href='/en-us/help/905687'>905687 </a> A Windows Server 2003-based terminal server in a forest cannot obtain a license from a license server in a different forest<br><br></div></span> A Windows Server 2003-based terminal server in a forest cannot obtain a license from a license server in a different forest.<br><br><span class='text-base'>Note</span> The location and method involving the registry have changed from Microsoft Windows 2000.<br> <br><br> To select a specific license server, follow these steps, and then quit Registry Editor. <br> <ol class='sbody-num_list'><li>Click <span class='text-base'>Start</span>, click <span class='text-base'>Run</span>, type <span class='sbody-userinput'>regedit</span>, and then click <span class='text-base'>OK</span>. </li><li>Locate and then click the following key in the registry: <div class='indent'><span class='text-base'>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\TermService\Parameters</span></div></li><li>On the <span class='text-base'>Edit</span> menu, point to <span class='text-base'>New</span>, and then click <span class='text-base'>Key</span>. </li><li>Name the new key &quot;LicenseServers&quot;</li><li>Locate and then click the following key in the registry: <div class='indent'><span class='text-base'>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\TermService\Parameters\LicenseServers</span></div></li><li>For each licensing server to which you would like to point the Terminal Services server, point to <span class='text-base'>New</span> on the <span class='text-base'>Edit</span> menu, and then click <span class='text-base'>Key</span>. </li><li>Name the new key &quot;<strong class='sbody-strong'>ServerName</strong>&quot; where <strong class='sbody-strong'>ServerName</strong> is the NetBIOS name of the license server that you want to use, and then press ENTER. <br><br><span class='text-base'>Note</span> The new key name can be any of the following designations that represent the license server:<br><ul class='sbody-free_list'><li>The NetBIOS name of the server</li><li>The fully qualified domain name (FQDN) of the server</li><li>The IP Address of the server</li></ul></li><li>Restart your computer.</li></ol> The selection of a specific license server enables administrators to select a license server at a site and to have Terminal Services servers from various domains located at the same site. This enables the Terminal Services servers to use one license server, instead of requiring a local license server for each domain. <br><br> Currently, Terminal Services servers work with license servers in their own domain, which may force them to use wide area network (WAN) links to find a license server, even if there is a license server from another domain located at the same site. The preceding method enables the crossing of domains for license tracking and accounting purposes. Microsoft Windows 2000 uses a different registry value to specify a license server. <br><br><span>For more information, click the following article number to view the article in the Microsoft Knowledge Base:<br><br><div class='indent'><a id='kb-link-3' href='/en-us/help/239107'>239107 </a> Establishing preferred Windows 2000 Terminal Services license server<br><br></div></span></div><div class='kb-textlegacy-section section'>DOC INFO: Info from NTBUG9 # 187786 Author: jimdobb (2000-11-14T11:33:00) Edit Reviewer: V-ERIHAM (2001-01-04T15:58:00) Tech Reviewer: hmills (2000-12-11T09:43:00) </div>