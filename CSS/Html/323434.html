<header><h1>How To Establish a Striped Volume with Parity (RAID-5) in Windows Server 2003</h1></header><div><span></span></div><div class='kb-securedata-section section'>DO NOT DELETE OR ARCHIVE THIS ARTICLE<br>This article is referenced by TechNet.<br>Contact the Content Business Manager for this product if you have any questions.</div><div class='kb-notice-section section'><a class='bookmark' id='toc'></a><h3 class='sbody-h3'>IN THIS TASK</h3><ul class='sbody-free_list'><li><a managed-link="" href='#1' target="" bookmark-id='1'>SUMMARY</a></li><li><ul class='sbody-free_list'><li><a managed-link="" href='#2' target="" bookmark-id='2'>Requirements</a></li><li><a managed-link="" href='#3' target="" bookmark-id='3'>How to Set Up the Disk Management System</a></li><li><a managed-link="" href='#4' target="" bookmark-id='4'>How to Make Sure That Disks Are Set Up to Support RAID-5</a></li><li><a managed-link="" href='#5' target="" bookmark-id='5'>How to Upgrade to Dynamic Disks</a></li><li><a managed-link="" href='#6' target="" bookmark-id='6'>How to Convert to RAID-5</a></li><li><a managed-link="" href='#7' target="" bookmark-id='7'>Troubleshooting</a></li></ul></li></ul><a class='bookmark' id='1'></a></div><div></div><div class='kb-securedata-section section'><span class='text-base'>IMPORTANT:</span> The list(s) in this article were modified during migration to KMS. To see the original version of the list, please refer to the TextLegacy section at the bottom of this article.</div><div class='kb-summary-section section'> A striped volume with parity, which is also called RAID-5 in Windows Server 2003, combines areas of free space from multiple hard disks (from 3 to 32) into one logical volume. <br><br> Parity is redundant information that is associated with a block of information. In products in Windows Server 2003, parity is a calculated value that is used to reconstruct data after a failure. RAID-5 volumes stripe data and parity across a set of disks. When a disk fails, Windows Server 2003 uses the parity information to re-create the data on the failed disk. <br><br> Because of this fault tolerance, administrators favor using RAID-5 volumes when data integrity and data input/output speed are both important. RAID-5 volumes cannot be mirrored, and they cannot be extended. Any file system can be used on a RAID-5 volume, including the FAT file system, the FAT32 file system, or the NTFS file system.<br> <br><br><span class='text-base'>NOTE</span>: Your operating system and boot files cannot reside on the RAID-5 disks. However, you can put the system swap file on a RAID-5 volume.<br><br><h3 class='sbody-h3'><a class='bookmark' id='2'></a>Requirements</h3><ul class='sbody-free_list'><li>A minimum of three hard disk drives. IDE, SCSI or mixed architecture is permissible.</li><li>All disks involved in the RAID-5 volume must be dynamic disks.</li><li>Operating system boot and system files must be on a different volume.</li></ul><h3 class='sbody-h3'><a class='bookmark' id='3'></a>How to  Set Up the Disk Management System</h3><ol class='sbody-num_list'><li>Click <span class='text-base'>Start</span>, point to <span class='text-base'>Administrative Tools</span>, and then click <span class='text-base'>Computer Management</span>. </li><li>Click the plus sign (+) next to <span class='text-base'>Storage</span> to open the Storage console tree.</li><li>Click the <span class='text-base'>Disk Management</span> folder.</li><li>On the <span class='text-base'>View</span> menu, point to <span class='text-base'>Top</span>, and then click <span class='text-base'>Disk List</span>. In the right pane, a column listing the attributes of each disk in the system is displayed.</li><li>On the <span class='text-base'>View</span> menu, point to <span class='text-base'>Bottom</span>, and then click <span class='text-base'>Graphical View</span>. <br><br> A color coded graphical view of the disks on the system is displayed.</li></ol> The Disk Description pane (that is displayed in gray) is on the left side of the volume description that is displayed in color. The disk description contains information about each disk&#39;s disk number, whether it is a basic or dynamic configuration, its size, and its status (online or offline).<br> <br><br> The volume descriptions are color-coded. They hold information on each volume such as the drive letter (if assigned), whether it is allocated or unallocated, the partition or volume size, and the health status of the volume.<br> <br><br><h3 class='sbody-h3'><a class='bookmark' id='4'></a>How to Make Sure That Disks Are Set Up to Support RAID-5</h3><ul class='sbody-free_list'><li><span class='text-base'>Disks</span>: You must have a minimum of three disks to support striping.</li><li><span class='text-base'>Type</span>: Any disks involved in striping must be dynamic. Conversion from basic to dynamic goes very quickly without data loss. After you complete this procedure, you must restart the computer. </li><li><span class='text-base'>Capacity</span>: The RAID-5 volume can take the whole disk or as little as 20 megabytes (MB) for each disk.</li><li><span class='text-base'>Unallocated space</span>: Any disks that you want to upgrade to a dynamic disk must contain at least 1 MB of free space at the end of the disk for the upgrade to succeed. Disk Management automatically reserves this free space when it creates partitions or volumes on a disk, but disks with partitions or volumes that are created by other operating systems might not have this free space available.<br></li><li><span class='text-base'>Status</span>: The status of all disks involved in a stripe volume must be online when you create the striped volume.</li><li><span class='text-base'>Device Type</span>: You can install striping on any dynamic disk even if there are mixed drive architectures on the computer. For example, IDE, EIDE, and SCSI drives can all be used in one stripe volume. </li></ul><h3 class='sbody-h3'><a class='bookmark' id='5'></a>How to Upgrade to Dynamic Disks</h3> If the disks that are going to be involved in the stripe volume are already dynamic disks, skip this section and go to the next section (&quot;How to Convert to Stripe Volume&quot;). <br><br><span class='text-base'>NOTE</span>: You must be logged on as an administrator or a member of the Administrators group to complete this procedure. If your computer is connected to a network, network policy settings may prevent you from completing this procedure. <br><br> To upgrade a basic disk to a dynamic disk: <br> <ol class='sbody-num_list'><li>Before you upgrade disks, quit any programs that are running on those disks.</li><li>Right-click the gray <span class='text-base'>Disk Description</span> pane that is located to the left of the color-coded volume panes, and then click <span class='text-base'>Upgrade to Dynamic Disk</span>.</li><li>If the second disk in not a dynamic disk, follow the steps earlier in this article to upgrade it to a dynamic disk. </li></ol><h3 class='sbody-h3'><a class='bookmark' id='6'></a>How to Convert to RAID-5</h3> In this scenario, there are four disks on the computer: Disk 0 , Disk 1, Disk 2 and Disk 3 . Disk 0 is reserved for the operating system and boot files because they cannot reside on a RAID-5 volume. The other three disks are the RAID-5 disks. There is 1 gigabyte (GB) of free unallocated space on each disk to commit to the RAID-5 volume.<br><br><span class='text-base'>NOTE</span>: 1 GB of free space on each of the three disks gives you a total usable volume of 2 GB because of parity information that is written as part of each stripe. <br> <ol class='sbody-num_list'><li>In the Disk Management tool, right-click the unallocated space on one of the dynamic disks where you want to create the RAID-5 volume, and then click <span class='text-base'>Create Volume</span>.</li><li>After the Create Volume Wizard starts, click <span class='text-base'>Next</span>. </li><li>Click <span class='text-base'>RAID-5 volume</span>, and then click <span class='text-base'>Next</span>.</li><li>Click the disks in the left pane under <span class='text-base'>All Available Dynamic Disks</span>, and then click the <span class='text-base'>Add</span> tab. <br><br> The disks that are displayed in the right pane are labeled <span class='text-base'>Selected</span>.</li><li>Look at the bottom of the <span class='text-base'>Select Disk</span> dialog box under the <span class='text-base'>Size</span> label. <br><br> The <span class='text-base'>For All Selected Disks</span> box displays the maximum size of the RAID-5 volume that you can make. <br><br><span class='text-base'>NOTE</span>: The volume on each disk is the same size in the completed RAID-5 volume. For example, if you have 100 MB on the first disk, you have 100 MB on the second disk. You can reduce the size of the volume from the maximum size that the wizard automatically shows. To do so, click the arrow on the <span class='text-base'>Disk Size</span> box to lower the volume size on this disk. On a three-disk system, the total RAID-5 volume storage size is double the size that you enter here. The <span class='text-base'>Total Volume Size</span> box lists your total storage space. </li><li> Click <span class='text-base'>Next</span>. At this time, you may want to assign a drive letter (you can also do this at any other time). To do so, click <span class='text-base'>Assign Drive Letter</span>, and then enter an available drive letter. <br><br>Alternatively, you can click <strong class='uiterm'>Do not assign drive letter or path</strong>. You can also click <strong class='uiterm'>Mount this volume on an empty folder that supports drive paths</strong>. However, this selection is beyond the scope of this article.</li><li>Click <span class='text-base'>Next</span>.</li><li>Click <strong class='uiterm'>Format this partition with the following settings</strong>, and then follow these steps: <br><ol class='sbody-alpha_list'><li>Type the file system type; FAT32 or NTFS is acceptable.</li><li>Leave the default selection in the <span class='text-base'>Allocation Unit Size</span> box.</li><li>In the <span class='text-base'>Volume Label</span> box, you can keep the default &quot;New Volume&quot; label or you can type your own label.</li><li>At this time, you can click to select the <span class='text-base'>Quick Format</span> check box and the <strong class='uiterm'>File and Folder Compression</strong> check box. You can also defer both of these tasks if you like. </li></ol></li><li>Click <span class='text-base'>Next</span>, check your selection in the Summary window, and then click <span class='text-base'>Finish</span>.</li></ol> The RAID-5 volume is displayed on the three disks on your system. They have the same color code, the same drive letter (if you mapped the drive during the procedure), and they are both the same size. If you clicked the <span class='text-base'>Quick Format</span> option, the status of the disks is displayed as &quot;Regenerating&quot; while the drives are being formatted. After the disks are formatted, the status of the disks is displayed as &quot;Healthy&quot;. The RAID-5 volume is ready to be used; you do not have to restart the computer.<br><br><h3 class='sbody-h3'><a class='bookmark' id='7'></a>Troubleshooting</h3><ul class='sbody-free_list'><li>Never use a hardware-RAID solution and software RAID on the same disk.</li><li>Operating system files and boot files cannot reside on the RAID-5 disks. </li><li>Microsoft recommends RAID-5 over mirrored volumes for programs that require redundancy and are primarily read-oriented. Write performance is reduced by the parity calculation. Also, a write operation requires three times more memory than a read operation during typical operation. This condition is caused by the parity calculation.</li><li>RAID-5 volumes provide fault tolerance at a cost of one additional disk for the volume. This means that if you use three 10-GB disks to create a RAID-5 volume, the volume will have a 20-GB capacity. The remaining 10-GB are used for parity. </li><li>RAID-5 volumes cannot be extended or mirrored. </li></ul></div><div class='kb-securedata-section section'>kbStorageDev</div><div class='kb-textlegacy-section section'>Author: DIXONH (2002-05-22T05:23:00) Edit Reviewer: V-DIANAG (2002-06-26T14:49:00) Tech Reviewer: DAVBUL (2002-06-25T12:10:00)<br> </div>